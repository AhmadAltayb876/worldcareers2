<!DOCTYPE html>

<html dir="rtl" lang="ar">
<head>
<!-- Primary Meta Tags -->
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=5.0" name="viewport"/>
<meta content="index, follow, max-image-preview:large" name="robots"/>
<meta content="اكتشف الأسرار المالية للمهن النادرة! ✨ رواتب تصل لـ 2 مليون دولار سنويًا + نصائح احترافية لاختيار المسار الوظيفي الذهبي" name="description"/>
<meta content="أعلى الرواتب العالمية, المهن الأكثر طلبًا 2024, مستقبل الوظائف الذكية, نصائح الترقية الوظيفية, مقارنة الرواتب الدولية" name="keywords"/>
<meta content="Career Masters Team" name="author"/>
<!-- Open Graph / Facebook -->
<meta content="website" property="og:type"/>
<meta content="https://careerhub.example/" property="og:url"/>
<meta content="🔥 صدمة الرواتب! اكتشف ما يخفيه أصحاب المليارات عن مساراتهم الوظيفية" property="og:title"/>
<meta content="معلومات حصرية لن تجدها ailleurs: 137 مهنة نادرة مع رواتب خيالية + دليل التخصصات القاتلة للبطالة" property="og:description"/>
<meta content="https://careerhub.example/og-image.jpg" property="og:image"/>
<!-- Twitter -->
<meta content="summary_large_image" property="twitter:card"/>
<meta content="https://careerhub.example/" property="twitter:url"/>
<meta content="🚀 انهيار التوقعات! هذه المهن ستهيمن على سوق العمل 2024-2030" property="twitter:title"/>
<meta content="شاهد بنفسك: تقرير مفصل عن 89 مهنة مستقبلية مع معدل نمو يصل لـ 300% + شهادات معتمدة مجانًا" property="twitter:description"/>
<meta content="https://careerhub.example/twitter-card.jpg" property="twitter:image"/>
<!-- Schema.org for Rich Snippets -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Career Oracle",
    "url": "https://careerhub.example/",
    "description": "منصة الثورة الوظيفية الأولى عربيًا 🏆 مقارنات رواتب حية بين 150+ دولة + تحليل مسارات التطور الوظيفي",
    "potentialAction": {
    "@type": "SearchAction",
    "target": "https://careerhub.example/search?q={search_term}",
    "query-input": "required name=search_term"
}
}

        // دالة وسيطة لفصل الفلترة بناءً على النوع الحالي
        function onFilterChange() {
            if (currentSearchType === 'jobs') {
                filterProfessions();
            } else {
                filterMajors();
            }
        }

    </script>
<title>World Careers Hub - الدليل المهني العالمي</title>
<link href="https://careerhub.example/" rel="canonical"/>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;700&amp;display=swap" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet"/>
<style>
    :root {
        --primary: #0A84FF;
        --secondary: #3AAFA9;
        --accent: #FF6B6B;
        --light: #F8F9FA;
        --dark: #212529;
    }
    
    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: 'Tajawal', sans-serif;
    }
    
    body {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        color: var(--dark);
        line-height: 1.6;
    }
    
    /* الترويسة */
    .navbar {
        background: white;
        box-shadow: 0 2px 15px rgba(0,0,0,0.1);
        padding: 1rem 2rem;
        position: sticky;
        top: 0;
        z-index: 1000;
        direction: ltr;
    }
    
    .nav-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        max-width: 1400px;
        margin: 0 auto;
        gap: 1.5rem;
    }
    
    .logo {
        font-weight: 700;
        font-size: 1.5rem;
        color: var(--primary);
        text-decoration: none;
        white-space: nowrap;
    }
    
    .logo span {
        color: var(--secondary);
    }
    
    .nav-links {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
        justify-content: center;
    }
    
    .nav-link {
        color: var(--dark);
        text-decoration: none;
        font-weight: 500;
        transition: all 0.3s ease;
        padding: 0.5rem 1rem;
        border-radius: 5px;
        white-space: nowrap;
    }
    
    .nav-link:hover {
        color: var(--secondary);
        background: rgba(58,175,169,0.1);
    }
    
    .nav-link.active {
        color: white;
        background: var(--primary);
    }
    
    /* شريط البحث */
    .search-container {
        flex: 1;
        max-width: 100%;
        position: relative;
        margin: 0 1rem;
    }
    
    .search-input {
        width: 100%;
        padding: 0.7rem 2.5rem 0.7rem 1rem;
        border: 2px solid rgba(10, 132, 255, 0.2);
        border-radius: 23px;
        font-size: 0.95rem;
        transition: all 0.3s ease;
        background-color: #f8f9fa;
        outline: none;
    }
    
    .search-input:focus {
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(10, 132, 255, 0.2);
        background-color: white;
    }
    
    .search-btn {
        position: absolute;
        right: 1rem;
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        color: var(--primary);
        cursor: pointer;
        font-size: 1.1rem;
    }
    
    /* نتائج البحث المنسدلة */
    .search-results {
        position: absolute;
        top: 100%;
        left: 0;
        width: 100%;
        max-height: 400px;
        overflow-y: auto;
        background: white;
        border-radius: 0 0 10px 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        z-index: 100;
        display: none;
    }
    
    .search-result-item {
        padding: 0.8rem 1rem;
        border-bottom: 1px solid #eee;
        cursor: pointer;
        transition: background 0.2s;
    }
    
    .search-result-item:hover {
        background: #f8f9fa;
    }
    #majorsContainer .profession-card {
        background: white;
        border-radius: 15px;
        padding: 1.8rem !important;
        box-shadow: 0 5px 25px rgba(0, 0, 0, 0.438);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        cursor: pointer;
        position: relative;
        overflow: hidden;
        margin: 0; /* إزالة الهوامش الإضافية */
    }
    
    #majorsContainer .profession-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.836);
    }
    
    #majorsContainer .profession-card::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(90deg, var(--secondary) 0%, var(--primary) 100%);
        transition: height 0.3s ease;
    }
    
    #majorsContainer .profession-card:hover::after {
        height: 6px;
    }
    #majorsContainer .profession-card {
        padding: 1.5rem !important;
        /* بقية الخصائص */
    }
    .search-result-item h4 {
        color: var(--primary);
        margin-bottom: 0.3rem;
    }
    
    .search-result-item p {
        font-size: 0.85rem;
        color: #666;
    }
    
    .no-results {
        padding: 1rem;
        text-align: center;
        color: #666;
    }
    
    /* نتائج البحث الرئيسية */
    .search-results-section {
        max-width: 1400px;
        margin: 1rem auto;
        padding: 0 2rem;
        display: none;
    }
    
    .search-results-title {
        color: var(--primary);
        margin-bottom: 1rem;
        font-size: 1.2rem;
        align-items: center;
        gap: 0.3rem;
    }
    
    .search-results-title i {
        color: var(--secondary);
    }
    
    .clear-search-btn {
        background: var(--accent);
        color: white;
        border: none;
        padding: 0.3rem 0.8rem;
        border-radius: 20px;
        cursor: pointer;
        margin-right: 0.5rem;
        font-size: 0.8rem;
        transition: all 0.3s;
    }
    
    .clear-search-btn:hover {
        background: #ff5252;
    }
    
    /* بقية الأنماط */
    .header {
        background: linear-gradient(135deg, var(--primary) 0%, #1B2A4E 100%);
        color: white;
        padding: 3rem 1rem;
        text-align: center;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        border-bottom: 4px solid var(--secondary);
        margin-top: 0;
        direction: ltr;
    }
    
    .header h1 {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }
    
    .professions-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 2rem;
        padding: 0.5rem;
        max-width: 1400px;
        margin: 0 auto;
    }
    
    .profession-card {
        background: white;
        border-radius: 15px;
        padding: 1.8rem;
        box-shadow: 0 5px 25px rgba(0, 0, 0, 0.438);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        cursor: pointer;
        position: relative;
        overflow: hidden;
    }
    
    .profession-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.836);
    }
    
    .profession-card::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(90deg, var(--secondary) 0%, var(--primary) 100%);
        transition: height 0.3s ease;
    }
    
    .profession-card:hover::after {
        height: 6px;
    }
    
    .profession-card h3 {
        color: var(--primary);
        margin-bottom: 1rem;
        margin-left: 4.8rem;
        font-size: 1.4rem;
    }
    
    .salary-info {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 1.5rem;
        padding-top: 1.2rem;
        border-top: 2px solid rgba(0,0,0,0.05);
    }
    
    .highlight {
        color: var(--secondary);
        font-weight: 700;
        font-size: 1.1rem;
        background: rgba(58,175,169,0.1);
        padding: 0.3rem 0.8rem;
        border-radius: 20px;
    }
    .highlight {
        color: var(--secondary);
        font-weight: 700;
        font-size: 1.1rem;
        background: rgba(58,175,169,0.1);
        padding: 0.3rem 0.8rem;
        border-radius: 20px;
        justify-content: left;
    
    }
    
    .category-tag {
        position: absolute;
        top: 1.5rem;
        left: 1.5rem;
        background: var(--accent);
        color: white;
        padding: 0.3rem 0.8rem;
        border-radius: 15px;
        font-size: 0.85rem;
        box-shadow: 0 2px 8px rgba(255,107,107,0.2);
    }
    
    /* الفلترة */
    .filter-container {
        max-width: 1400px;
        margin: 1rem auto;
        padding: 0 0.3rem;
    }
    
    .filter-box {
        display: flex;
        flex-wrap: wrap;
        gap: 1.5rem;
        background: rgba(42,63,95,0.05);
        padding: 1.5rem;
        border-radius: 10px;
    }
    
    .filter-title {
        color: var(--secondary);
        width: 100%;
        margin-bottom: 0.5rem;
    }
    
    /* أقسام المحتوى */
    .content-section {
        max-width: 1000px;
        margin: 1rem auto;
        padding: 0 0.5rem;
        display: none;
        direction: rtl;
    }
    
    .content-card {
        background: white;
        padding: 0.75rem;
        border-radius: 15px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.377);
        margin-bottom: 2rem;
    }
    @media (max-width: 503px) {
        .content-card {
        padding: 0.8rem;
      
    }
    .content-section {
        padding: 0 0.6rem;
       
    }
    }
    /* النافذة المنبثقة */
    .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.7);
        backdrop-filter: blur(5px);
        justify-content: center;
        align-items: center;
        z-index: 1000;
    }
    
    .modal-content {
        background: white;
        padding: 2.5rem;
        max-height: 90vh;
        border-radius: 20px;
        max-width: 600px;
        width: 90%;
        position: relative;
        border: 2px solid var(--primary);
        box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        position: relative;
        padding: 2rem;
        overflow-y: auto;
        overflow-x: hidden;
        scrollbar-width: none; /* للمتصفحات الحديثة */
    }
    .close-btn {
        position: absolute;
            top: 1rem;
    left: 1rem;
    font-size: 2.5rem;
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    cursor: pointer;
    z-index: 1001;
    color: var(--accent);
    transition: all 0.3s ease;
    }
    /* تحسينات للجوال */
    
    
    /* تأثيرات عند التمرير */
    .close-btn:hover {
    transform: rotate(90deg) scale(1.1);
    color: var(--primary);
    }
    .close-btn::after {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 150%;
    height: 150%;
    background: rgba(0,0,0,0.1);
    border-radius: 50%;
    opacity: 0;
    transition: opacity 0.3s ease;
    }
    
    .close-btn:hover::after {
    opacity: 1;
    }
    .modal-header {
    position: relative;
    z-index: 1000;
    }
    @media (hover: none) {
    .close-btn:hover {
    transform: none;
    }
    .close-btn:hover::after {
    opacity: 0;
    }
    }
    .close-btn:hover {
        transform: rotate(90deg);
    }
    
    .modal-header {
        position: relative;
        padding-top: 3.5rem;
        min-height: 5rem;
        border-bottom: 2px solid rgba(0,0,0,0.1);
        padding-bottom: 1rem;
        margin-bottom: 1.5rem;
    }
    
    #modalCategory {
        position: absolute;
        top: -0.2rem;
        left: 3rem;
        margin: 0;
        font-size: 0.85rem;
    }
    
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1.5rem;
        margin-top: 1.5rem;
    }
    
    .stat-item {
        background: rgba(42,63,95,0.03);
        padding: 1rem;
        border-radius: 10px;
        text-align: center;
    }
    
    .stat-item span:first-child {
        color: var(--primary);
        font-weight: 700;
        display: block;
        margin-bottom: 0.5rem;
    }
    
    /* التكيف مع الشاشات الصغيرة */
    @media (max-width: 1024px) {
        .nav-container {
            flex-direction: column;
            gap: 1rem;
        }
        
        .search-container {
            order: 3;
            max-width: 100%;
            margin: 0.5rem 0;
        }
        
        .nav-links {
            width: 100%;
            justify-content: center;
        }
        
    }
    
    @media (max-width: 192px) {
        .professions-grid {
            grid-template-columns: 1fr;
            padding: 1rem;
        }
        
    @media (max-width: 768px) {
    #best-jobs .filter-item {
    flex: 1 1 100%;
    text-align: center;
    padding: 0.7rem;
    }
    #best-jobs.profession-card {
    padding: 1.2rem;
    }
    }
    #best-jobs .growth-rate {
    font-size: 0.8rem;
    }
    }
    
        .header h1 {
            font-size: 2rem;
        }
        
        .nav-links {
            gap: 0.5rem;
        }
        
        .nav-link {
            padding: 0.3rem 0.6rem;
            font-size: 0.9rem;
        }
    
    
    @media (max-width: 480px) {
    /* تحسينات الهيدر للجوال */
    .navbar {
    padding: 0.5rem 0.5rem;
    }
    
    .nav-container {
    flex-direction: column;
    gap: 0.5rem;
    }
    
    .nav-links {
    width: 100%;
    justify-content: flex-start;
    padding-bottom: 0.5rem;
    -webkit-overflow-scrolling: touch;
    }
    
    .nav-link {
    font-size: 0.9rem;
    padding: 0.3rem 0.8rem;
    white-space: nowrap;
    }
    
    .nav-link.active {
    padding: 0.3rem 0.8rem;
    }
    
    /* إخفاء النص وعرض الأيقونات فقط عند الحاجة */
    
    
    /* تحسين شريط البحث */
    .search-container {
    margin: 0;
    width: 100%;
    text-align: right;
    }
    
    .search-input {
    font-size: 0.9rem;
    padding: 0.8rem 1.5rem 0.5rem 1rem;
    }
    
    .search-btn {
    right: 0.8rem;
    font-size: 1rem;
    }
    
    /* تحسين بطاقات المهن */
    .profession-card {
    padding: 1rem;
    margin: 0.5rem;
    }
    
    .profession-card h3 {
    font-size: 1.2rem;
    }
    
    .salary-info {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
    }
    
    #jobFieldsFilter {
    order: -1;
    width: 100%;
    grid-template-columns: repeat(2, 1fr);
    }
    }
    @media (max-width: 360px) {
        .nav-link span {
        display: none;
        }
        .nav-link i {
        margin-right: 0;
        font-size: 1.2rem;
        }
    }
    @media (max-height: 768px) {
        .modal-content {
            width: 95%;
            max-height: 90vh;
            padding-top: 0.3rem;   
        }
        .close-btn {
            font-size: 3rem;
            top: 0.5rem;
            left: 0.5rem;
            width: 40px;
            height: 40px;
        } 
        .modal-header {
            padding-top:auto;
            min-height: auto;
        }
        
        #modalCategory {
            top: 1rem;
            left: 0.8rem;
            font-size: 0.8rem;
        }
        .stat-item{
            padding: 0 0 0 0 ;
        }
    }
    
    /* تحسينات إضافية للشاشات المتوسطة */
    @media (max-width: 768px) {
    .header h1 {
    font-size: 1.8rem;
    }
    
    .header p {
    font-size: 0.9rem;
    }
    
    .profession-card {
    margin: 0.5rem;
    }
    
    .nav-link {
    font-size: 0.85rem;
    }
    }
    /* شريط البحث */
    .search-container {
    flex: 1;
    max-width: 100%; /* زيادة العرض الأقصى */
    position: relative;
    margin: 0 1rem;
    transition: all 0.3s ease;
    }
    
    @media (max-width: 1024px) {
    .search-container {
    max-width: 100%;
    margin: 0;
    order: 3;
    width: 100%;
    }
    
    .search-input {
    padding: 0.8rem 3rem 0.8rem 1.5rem;
    font-size: 1rem;
    }
    
    .search-btn {
    right: 1.5rem;
    font-size: 1.2rem;
    }
    }
    
    @media (max-width: 768px) {
    .search-container {
    max-width: 100%;
    margin: 0;
    order: 3;
    width: 100%;
    }
    
    .search-input {
    padding: 0.8rem 3rem 0.8rem 1.5rem;
    font-size: 1rem;
    }
    
    .search-btn {
    right: 1.5rem;
    font-size: 1.2rem;
    }
    }
    
    @media (max-width: 480px) {
    .search-input {
    padding: 0.9rem 3.5rem 0.9rem 2rem;
    border-radius: 25px;
    }
    
    .search-btn {
    right: 2rem;
    font-size: 1.3rem;
    }
    
    .search-results {
    border-radius: 15px;
    }
    }
    
    /* أنماط محاذاة الأزرار في القسم الرئيسي */
    
    @media (max-width: 768px) {
    .header {
    padding: 2rem 1rem !important; /* تقليل الحشو */
    }
    .header h1 {
    font-size: 1.8rem !important; /* تصغير حجم العنوان */
    line-height: 1.3;
    }
    
    .header p {
    font-size: 0.9rem !important; /* تصغير حجم النص الفرعي */
    margin-top: 0.5rem;
    }
    }
    
    @media (max-width: 768px) {
    .nav-links {
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-start; /* المحاذاة من اليسار */
    width: 100%;
    direction: rtl;
    }
    
    /* ترتيب العناصر كما تريد */
    .nav-link[href="#compare"] { order: 3; }
    .nav-link[href="#best-jobs"] { order: 2; }
    .nav-link[href="#jobs"] { order: 1; }
    .nav-link[href="#about"] { order: 4}
    
    /* تعديلات إضافية لتحسين المظهر */
    .nav-link {
    margin:auto;
    padding: auto;
    }
    }
    .header {
    transition: all 0.3s ease-in-out;
    /* بقية الخصائص كما هي */
    }
    .header {
    display: block !important; /* التأكد من ظهور الهيدر دائماً */
    transition: all 0.3s ease-in-out;
    /* بقية الخصائص كما هي */
    }
    /* أنماط خاصة بقسم Best Jobs */
    #best-jobs .filter-box {
        background: rgba(58, 175, 169, 0.1);
    padding: 1.5rem;
    margin-bottom: 1rem;
    border-radius: 15px;
    max-width: 1400px;
    gap:1rem;
    }
    
    #best-jobs .filter-group {
    display: flex;
    gap: 0.4rem;
    flex-wrap: wrap;
    min-width: 100%;
    }

    
    #best-jobs .filter-item {
    background: white;
    padding: 0.8rem 1.5rem;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 2px solid var(--primary);
    }
    
    #best-jobs .filter-item.active {
    background: var(--primary);
    color: white;
    }
    
    #best-jobs .professions-grid {
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1.5rem;
    padding: 0.5rem;
    }
    
    #best-jobs .profession-card {
    padding: 1.5rem;
    margin: 0.5rem;
    }
    
    #best-jobs .stats-grid {
    grid-template-columns: 1fr;
    gap: 0.8rem;
    }
    
    #best-jobs .stat-item {
    background: rgba(10, 132, 255, 0.05);
    padding: 1rem;
    border-radius: 10px;
    text-align: center;
    }
    
    #best-jobs .specialties-list {
    list-style: none;
    margin-top: 1rem;
    }
    
    #best-jobs .specialties-list li {
    font-size: 0.8rem;
    padding: 0.3rem;
    }
    
    .demand-indicator {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-top: 1rem;
    }
    
    .demand-bar {
    height: 8px;
    border-radius: 4px;
    background: #eee;
    flex-grow: 1;
    position: relative;
    }
    
    .demand-fill {
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    border-radius: 4px;
    background: var(--secondary);
    }
    
    .growth-rate {
    color: var(--secondary);
    font-weight: bold;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    }
    @media (max-width: 480px) {
    #best-jobs .filter-box {
        padding: 0.2rem;
    }
    
    #best-jobs .profession-card h3 {
    font-size: 1.2rem;
    }
    
    #best-jobs .demand-indicator {
    flex-direction: column;
    gap: 0.5rem;
    }
    
    #best-jobs .demand-bar {
    width: 100%;
    }
    }
    /* تحسينات استجابة إضافية */
    #best-jobs .specialties-title {
    color: var(--primary);
    margin: 1rem 0 0.5rem;
    font-size: 0.95rem;
    }
    
    #best-jobs .job-description {
    font-size: 0.9rem;
    line-height: 1.5;
    color: #666;
    margin-top: 1rem;
    }
    #best-jobs .filter-item[data-filter="best"] {
    background: var(--primary) !important;
    color: white !important;
    }
    
    #best-jobs .filter-item:not(.active) {
    background: white !important;
    color: var(--primary) !important;
    }
    
    @media (max-width: 1024px) {
    #best-jobs .professions-grid {
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    }
    }
    
    @media (max-width: 360px) {
    #best-jobs .profession-card {
    padding: 1rem;
    }
    
    #best-jobs .stats-grid {
    gap: 0.5rem;
    }
    
    #best-jobs .specialties-list li {
    font-size: 0.75rem;
    }
    }
    @media (min-width : 524px) {
    #best-jobs .filter-group {
    justify-content: center; /* توسيط العناصر */
    }
    
    #best-jobs .filter-item {
    flex: 0 0 auto; /* منع العناصر من التمدد */
    padding: 1rem 1.2rem; /* تعديل الحشو */
    font-size: 0.9rem; /* تصغير حجم الخط */
    margin: 0.2rem; /* إضافة هوامش صغيرة */
    }
    
    #best-jobs .filter-item i {
    margin-left: 0.3rem; /* تعديل مسافة الأيقونة */
    }
    }
   

    @media (max-width : 584px) {
        #best-jobs .filter-group {
    justify-content: center; /* توسيط العناصر */
    }
    
    #best-jobs .filter-item {
    flex: 0 0 auto; /* منع العناصر من التمدد */
    padding: 0.8rem 1rem; /* تعديل الحشو */
    font-size: 0.8rem; /* تصغير حجم الخط */
    margin: 0.2rem; /* إضافة هوامش صغيرة */
    }
    
    #best-jobs .filter-item i {
    margin-left: 0.3rem; /* تعديل مسافة الأيقونة */
    }
    }
    @media (max-width : 584px) {
        #best-jobs .filter-group {
    justify-content: center; /* توسيط العناصر */
    }
    
    #best-jobs .filter-item {
    flex: 0 0 auto; /* منع العناصر من التمدد */
    padding: 0.8rem 1rem; /* تعديل الحشو */
    font-size: 0.75rem; /* تصغير حجم الخط */
    margin: 0.2rem; /* إضافة هوامش صغيرة */
    }
    
    #best-jobs .filter-item i {
    margin-left: 0.3rem; /* تعديل مسافة الأيقونة */
    }
    }
    
    
    /* أنماط قسم المقارنة */
    /* أنماط قسم المقارنة الجديدة */
    .compare-header {
        margin-bottom: 2rem;
        text-align: center;
    }
    
    .compare-header h2 {
        font-size: 1.8rem;
        color: var(--primary);
        margin-bottom: 0.5rem;
    }
    
    .compare-header p {
        color: #666;
        font-size: 1rem;
    }
    
    /* مفتاح التبديل بين المهن والتخصصات */
    .compare-type-selector {
        margin: 2rem 0;
        display: flex;
        justify-content: center;
    }
    
    .toggle-switch {
        position: relative;
        display: inline-block;
        width: 60%;
        height: 60px;
        background: #f5f5f5;
        border-radius: 50px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.281);
        
        overflow: hidden;
    }
    
    .toggle-switch input[type="radio"] {
        display: none;
    }
    
    .toggle-option {
        position: absolute;
        top: 0;
        width: 50%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        color: var(--dark);
        cursor: pointer;
        transition: all 0.3s ease;
        z-index: 1;
    }
    
    .toggle-option i {
        margin-left: 8px;
    }
    
    #compareJobs + label {
        left: 0;
    }
    
    #compareMajors + label {
        right: 0;
    }
    
    .toggle-slider {
        position: absolute;
        top: 5px;
        left: 5px;
        width: 50%;
        height: 50px;
        background: linear-gradient(135deg, black 0%, var(--secondary) 100%);
        border-radius: 45px;
        transition: all 0.3s ease;
        z-index: 0;
    }
    
    #compareMajors:checked ~ .toggle-slider {
        transform: translateX(100%);
    }
    
    #compareJobs:checked ~ .toggle-option:first-child,
    #compareMajors:checked ~ .toggle-option:last-child {
        color: white;
    }
    
    /* حاويات حقول الإدخال */
    .compare-inputs-container {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        margin: 2rem 0;
    }
    
    @media (min-width: 768px) {
        .compare-inputs-container {
            flex-direction: row;
            align-items: flex-start;
        }
    }
    
    .compare-input-group {
        flex: 1;
        position: relative;
    }
    
    .input-header {
        display: flex;
        align-items: center;
        margin-bottom: 0.8rem;
    }
    
    .input-number {
        width: 25px;
        height: 25px;
        background: var(--primary);
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-left: 0.5rem;
        font-weight: bold;
    }
    
    .compare-divider {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 1rem 0;
        padding-top: 0.8rem;
        padding-right: 0.8rem;
    }
    
    @media (min-width: 768px) {
        .compare-divider {
            margin: 2rem 0;
        }
    }
    
    .divider-line {
        position: absolute;
        width: 100%;
        height: 1px;
        background: rgba(0,0,0,0.1);
        z-index: 0;
    }
    
    .vs-badge {
        background: white;
        color: var(--accent);
        font-weight: bold;
        padding: 0.5rem 1rem;
        border-radius: 30px;
        border: 2px solid var(--accent);
        z-index: 1;
        font-size: 0.9rem;
    }
    
    .compare-search .search-input {
        padding-left: 3rem;
        padding-right: 3rem;
        font-size: 1rem;
        height: 50px;
    }
    
    .compare-search .search-btn {
        right: 15px;
    }
    
    /* زر المقارنة */
    .compare-action {
        text-align: center;
        margin-top: 2rem;
    }
    
    .compare-button {
        background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
        color: white;
        border: none;
        padding: 1rem 2.5rem;
        border-radius: 50px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(10, 132, 255, 0.3);
    }
    
    .compare-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(10, 132, 255, 0.4);
    }
    
    .compare-button:active {
        transform: translateY(1px);
    }
    
    .compare-button .tooltip {
        position: absolute;
        bottom: -30px;
        left: 50%;
        transform: translateX(-50%);
        background: var(--dark);
        color: white;
        padding: 0.3rem 0.8rem;
        border-radius: 15px;
        font-size: 0.8rem;
        opacity: 0;
        transition: opacity 0.3s ease;
        white-space: nowrap;
    }
    
    .compare-button:hover .tooltip {
        opacity: 1;
    }
    
    /* تعديلات للجوال */
    @media (max-width: 768px) {
        .toggle-switch {
            width: 100%;
            height: 50px;
        }
        
        .toggle-slider {
            height: 40px;
        }
        
        #compareMajors:checked ~ .toggle-slider {
            transform: translateX(100%);
        }
        
        .compare-search .search-input {
            padding-left: 2.5rem;
            padding-right: 2.5rem;
            height: 45px;
        }
        
        .compare-button {
            padding: 0.8rem 2rem;
            font-size: 1rem;
        }
    }
    
    @media (max-width: 480px) {
        .toggle-switch {
            width: 100%;
            height: 45px;
        }
        
        .toggle-slider {
            height: 35px;
        }
        
        #compareMajors:checked ~ .toggle-slider {
            transform: translateX(120px);
        }
        
        .toggle-option {
            font-size: 0.9rem;
        }
        
        .compare-search .search-input {
            height: 42px;
            font-size: 0.9rem;
        }
        
        .input-header h4 {
            font-size: 1rem;
        }
    }
    /* أنماط محسنة لجدول المقارنة */
    #compare table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        border-radius: 12px;
        overflow: hidden;
        background: white;
    }
    
    #compare th {
        background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
        color: white;
        padding: 1.2rem;
        text-align: center;
        font-weight: 700;
        font-size: 1.1rem;
        position: sticky;
        top: 0;
    }
    
    #compare td {
        padding: 1rem;
        border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        text-align: center;
        transition: background 0.2s;
    }
    
    #compare tr:last-child td {
        border-bottom: none;
    }
    
    #compare tr:hover td {
        background: rgba(10, 132, 255, 0.03);
    }
    
    #compare .compare-winner {
        background: rgba(58, 175, 169, 0.08);
        position: relative;
        font-weight: 600;
    }
    
    #compare .compare-winner::after {
        content: "✓ الأفضل";
        position: absolute;
        left: 10px;
        top: 50%;
        transform: translateY(-50%);
        background: var(--secondary);
        color: white;
        padding: 0.3rem 0.8rem;
        border-radius: 20px;
        font-size: 0.8rem;
        box-shadow: 0 2px 8px rgba(58, 175, 169, 0.3);
    }
    
    /* تأثيرات للخلايا المهمة */
    #compare td.highlight-cell {
        font-weight: 700;
        color: var(--primary);
        background: rgba(10, 132, 255, 0.05);
    }
    
    /* شريط التمرير للجدول */
    #compare .table-scroll {
        max-height: 400px;
        overflow-y: hidden;
        border-radius: 12px;
    }
    
    #compare .table-scroll::-webkit-scrollbar {
        width: 6px;
    }
    
    #compare .table-scroll::-webkit-scrollbar-thumb {
        background: rgba(10, 132, 255, 0.3);
        border-radius: 3px;
    }
    /* أنماط محسنة لبطاقات نتائج المقارنة */
    #compareDetails {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin-top: 2.5rem;
    }
    
    .compare-detail-card {
        background: white;
        border-radius: 16px;
        padding: 1.8rem;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
        border: 1px solid rgba(10, 132, 255, 0.1);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
    }
    
    .compare-detail-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 40px rgba(10, 132, 255, 0.15);
    }
    
    .compare-detail-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 5px;
        height: 100%;
        background: linear-gradient(to bottom, var(--primary), var(--secondary));
    }
    
    .compare-detail-card h4 {
        color: var(--primary);
        font-size: 1.3rem;
        margin-bottom: 1.2rem;
        padding-bottom: 0.8rem;
        border-bottom: 2px solid rgba(10, 132, 255, 0.1);
        position: relative;
    }
    
    .compare-detail-card h4::after {
        content: "";
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 50px;
        height: 3px;
        background: var(--secondary);
    }
    
    .compare-detail-item {
        margin-bottom: 1rem;
        padding-bottom: 1rem;
        border-bottom: 1px dashed rgba(0, 0, 0, 0.1);
    }
    
    .compare-detail-item:last-child {
        margin-bottom: 0;
        padding-bottom: 0;
        border-bottom: none;
    }
    
    .compare-detail-label {
        font-weight: 600;
        color: var(--dark);
        margin-bottom: 0.3rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }
    
    .compare-detail-label i {
        color: var(--secondary);
        font-size: 1rem;
    }
    
    .compare-detail-value {
        color: #555;
        font-size: 0.95rem;
        line-height: 1.5;
    }
    
    .highlight-value {
        color: var(--secondary);
        font-weight: 700;
        background: rgba(58, 175, 169, 0.1);
        padding: 0.3rem 0.8rem;
        border-radius: 20px;
        display: inline-block;
        margin-top: 0.3rem;
    }
    /* أنماط محسنة للحاوية الرئيسية */
    #compareResults {
        display: none;
        margin-top: 2rem;
        background: white;
        border-radius: 16px;
        padding: 0.5rem;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
        border: 1px solid rgba(10, 132, 255, 0.1);
        animation: fadeIn 0.5s ease-out;
    }
    
    #compareResults h3 {
        color: var(--primary);
        text-align: center;
        margin-bottom: 2rem;
        font-size: 1rem;
        position: relative;
        padding-bottom: 1rem;
    }
    
    #compareResults h3::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 80px;
        height: 4px;
        background: linear-gradient(to right, var(--primary), var(--secondary));
        border-radius: 2px;
    }
    
    .compare-section-divider {
        height: 1px;
        background: linear-gradient(to right, transparent, rgba(10, 132, 255, 0.3), transparent);
        margin: 2rem 0;
    }
    
    /* تأثيرات الظهور */
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    /* تعديلات للجوال */
    @media (max-width: 768px) {
     
        
        #compareDetails {
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }
        
        .compare-detail-card {
            padding: 1.5rem;
        }
        
        #compare th, #compare td {
            padding: 0.8rem;
        }
    }
    @media(max-width: 782px){
        #compare .table-scroll {
            overflow-y: auto;
        }
    }
    /* أضف هذه التعديلات في نهاية ملف style.css */
    
    /* أضف هذه التعديلات في نهاية ملف style.css */
    
    @media (max-width: 768px) {
        /* تقليل المسافات في قسم المقارنة */
        .compare-header {
            margin-bottom: 1rem;
        }
        
        .compare-header h2 {
            font-size: 1.4rem;
            margin-bottom: 0.3rem;
        }
        
        .compare-header p {
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }
        
        /* تعديل حجم مفتاح التبديل */
        .toggle-switch {
            height: 45px;
            width: 90%;
        }
        
        .toggle-slider {
            height: 35px;
        }
        
        .toggle-option {
            font-size: 0.9rem;
        }
        
        /* تقليل المسافات بين حقول الإدخال */
        .compare-inputs-container {
            margin: 1rem 0;
            gap: 1rem;
        }
        
        .input-header {
            margin-bottom: 0.5rem;
        }
        
        .input-number {
            width: 20px;
            height: 20px;
            font-size: 0.8rem;
        }
        
        .compare-search .search-input {
            height: 40px;
            padding: 0.5rem 2.5rem 0.5rem 1rem;
            font-size: 0.9rem;
        }
        
        /* تعديل زر المقارنة */
        .compare-button {
            padding: 0.8rem 1.5rem;
            font-size: 1rem;
            margin-top: 1rem;
        }
        
        /* تعديلات جدول النتائج */
        #compare th, #compare td {
            padding: 0.6rem;
            font-size: 0.85rem;
        }
        
        #compare .compare-winner::after {
            font-size: 0.7rem;
            padding: 0.2rem 0.6rem;
        }
        
        /* تقليل مساحة البطاقات التفصيلية */
        .compare-detail-card {
            padding: 0.5rem;
        }
        
        .compare-detail-card h4 {
            font-size: 1.1rem;
            margin-bottom: 0.8rem;
        }
        
        .compare-detail-item {
            margin-bottom: 0.8rem;
            padding-bottom: 0.8rem;
        }
        
        /* تعديل أزرار التحكم */
        .compare-controls .control-btn {
            padding: 0.7rem 1.2rem;
            font-size: 0.9rem;
            margin: 0 0.5rem;
        }
    }
    
    @media (max-width: 480px) {
        /* مزيد من التعديلات للشاشات الصغيرة جدًا */
        .compare-header h2 {
            font-size: 1.2rem;
        }
        
        .toggle-switch {
            height: 40px;
        }
        
        .toggle-slider {
            height: 30px;
        }
        
        .toggle-option {
            font-size: 0.8rem;
        }
        
        .compare-inputs-container {
            gap: 0.8rem;
        }
        
        .compare-divider {
            margin: 0rem 0;
        }
        
        .vs-badge {
            padding: 0.3rem 0.8rem;
            font-size: 0.8rem;
        }
    
        /* جعل جدول النتائج أكثر إحكاما */
        #compare th, #compare td {
            padding: 0.4rem;
            font-size: 0.8rem;
        }
        
        #compare .table-scroll {
            max-height: 300px;
        }
        
        /* تكبير شريط التمرير ليكون أكثر وضوحًا */
        #compare .table-scroll::-webkit-scrollbar {
            width: 8px;
        }
        
        /* تكديس أزرار التحكم رأسيًا */
        .compare-controls {
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .compare-controls .control-btn {
            width: 100%;
            margin: 0;
        }
    }
    /* أضف هذا الكود في قسم الـ media queries للجوال */
@media (max-width: 768px) {
    /* تقليل ارتفاع قسم المقارنة الأساسي */
    .compare-inputs-container {
        margin: 0.5rem 0; /* تقليل الهوامش */
        gap: 0.8rem;     /* تقليل المسافة بين الحقول */
    }

    .compare-search .search-input {
        height: 42px;    /* تقليل ارتفاع حقل البحث */
        padding: 0.5rem 2.5rem 0.5rem 1rem; /* تعديل الحشو */
    }

    /* تصغير زر VS */
    .vs-badge {
        padding: 0.2rem 0.6rem;
        font-size: 0.8rem;
    }

    /* تصغير عناوين الحقول */
    .input-header h4 {
        font-size: 0.95rem;
    }

    /* تصغير الأرقام (1، 2) */
    .input-number {
        width: 18px;
        height: 18px;
        font-size: 0.75rem;
    }

    /* تعديل زر المقارنة */
    .compare-button {
        padding: 0.7rem 1.2rem;
        font-size: 0.9rem;
        margin-top: 0.5rem;
    }
}

@media (max-width: 480px) {
    /* مزيد من التكثيف للشاشات الصغيرة جدًا */
    .compare-inputs-container {
        gap: 0.5rem;
    }

    .compare-search .search-input {
        height: 38px;
        font-size: 0.85rem;
    }

    /* إخفاء الأيقونات في زر VS إذا لزم الأمر */
    .vs-badge i {
        display: none;
    }
}
    /* أنماط أزرار التبديل بين المهن والتخصصات */
    #jobs .filter-item {
    background: white;
    padding: 0.8rem 1.5rem;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 2px solid var(--primary);
    flex: 1;
    text-align: center;
    margin: 0;
    font-weight: 500;
    color: var(--primary);
    }
    
    #jobs .filter-item.active {
    background: var(--primary) !important;
    color: white;
    border-color: var(--primary)!important;
    }
    
    #jobs .filter-item:hover {
    background: rgba(10, 132, 255, 0.1);
    }
    
    #jobs .filter-item.active:hover {
    background: var(--primary);
    opacity: 0.9;
    }
    
    /* أنماط الاختبار المهني */
    .quiz-container {
    background: white;
    border-radius: 15px;
    box-shadow: 0 5px 25px rgba(0,0,0,0.1);
    margin-bottom: 2rem;
    }
    
    .quiz-header {
    text-align: center;
    margin-bottom: 2rem;
    }
    
    .quiz-header h3 {
    color: var(--primary);
    margin-bottom: 1rem;
    }
    
    .quiz-header p {
    color: #666;
    }
    
    .start-quiz-btn {
    background: var(--primary);
    color: white;
    border: none;
    padding: 0.8rem 2rem;
    border-radius: 30px;
    cursor: pointer;
    font-weight: bold;
    display: block;
    margin: 0 auto;
    transition: all 0.3s;
    }
    
    .start-quiz-btn:hover {
    background: #0873d7;
    transform: translateY(-2px);
    }
    
    .quiz-step {
    display: none;
    animation: fadeIn 0.5s ease;
    }
    
    .quiz-step.active {
    display: block;
    }
    
    .quiz-progress {
    height: 8px;
    background: #eee;
    border-radius: 4px;
    margin-bottom: 2rem;
    overflow: hidden;
    }
    
    .quiz-progress-bar {
    height: 100%;
    background: var(--secondary);
    transition: width 0.3s ease;
    }
    
    .question-text {
    font-size: 1.2rem;
    color: var(--primary);
    margin-bottom: 1.5rem;
    text-align: center;
    }
    
    .quiz-options {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
    }
    
    .quiz-option {
    padding: 1rem;
    background: #f8f9fa;
    border: 2px solid rgba(10, 132, 255, 0.1);
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 1rem;
    }
    .related-jobs-container {
    margin-top: 1rem;
    border-top: 2px solid rgba(0,0,0,0.05);
    padding-top: 1rem;
    }
    
    .related-jobs-title {
    color: var(--primary);
    font-size: 1rem;
    margin-bottom: 0.8rem;
    }
    
    .related-jobs-list {
    list-style: none;
    padding-right: 0;
    }
    
    .related-jobs-list li {
    padding: 0.5rem 0;
    border-bottom: 1px dashed #eee;
    display: flex;
    justify-content: space-between;
    }
    
    .related-jobs-list li:last-child {
    border-bottom: none;
    }
    
    .job-salary {
    color: var(--secondary);
    font-weight: bold;
    }
    .quiz-option:hover {
    border-color: var(--primary);
    transform: translateY(-3px);
    }
    
    .quiz-option.selected {
    background: rgba(58, 175, 169, 0.1);
    border-color: var(--secondary);
    }
    
    .option-number {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: var(--primary);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    }
    
    .quiz-results {
    text-align: center;
    }
    
    .career-match {
    background: white;
    padding: 1.5rem;
    border-radius: 12px;
    margin: 1rem 0;
    box-shadow: 0 3px 12px rgba(0,0,0,0.08);
    transition: transform 0.3s;
    cursor: pointer;
    }
    
    .career-match:hover {
    transform: translateY(-5px);
    }
    
    .match-percent {
    font-size: 1.8rem;
    color: var(--secondary);
    font-weight: bold;
    margin-bottom: 0.5rem;
    }
    
    .quiz-actions {
    margin-top: 2rem;
    display: flex;
    justify-content: center;
    gap: 1rem;
    }
    
    .quiz-btn {
    padding: 0.8rem 1.5rem;
    border-radius: 10px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s;
    border: none;
    }
    
    .restart-btn {
    background: var(--primary);
    color: white;
    }
    
    .home-btn {
    background: var(--secondary);
    color: white;
    }
    
    .quiz-btn:hover {
    opacity: 0.9;
    transform: translateY(-2px);
    }
    
    @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
    }
    .search-container {
        position: relative;
        flex: 1;
        max-width: 100%;
        margin: 0 1rem;
    }
    
    .search-buttons {
    position: absolute;
    left: 10px;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    gap: 5px;
    z-index: 2;
    }
    
    .search-type {
    padding: 0.4rem 1rem;
    border: none;
    border-radius: 20px;
    background: rgba(10, 132, 255, 0.1);
    color: var(--primary);
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 1px solid rgba(10, 132, 255, 0.3);
    }
    
    .search-type.active {
    background: var(--primary);
    color: white;
    border-color: var(--primary);
    }
    
    
    
    
    @media (max-width: 768px) {
    .search-buttons {
    left: 5px;
    }
    
    .search-type {
    padding: 0.2rem 0.6rem;
    font-size: 0.8rem;
    }
    
    .search-input {
    padding-left: 110px !important;
    }
    }
    .search-type-buttons {
    position: absolute;
    left: 15px;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    gap: 0.5rem;
    z-index: 2;
    }
    
    
    @media (max-width: 768px) {
    .search-type-buttons {
    left: 10px;
    gap: 0.3rem;
    }
    
    .search-type {
    padding: 0.3rem 0.8rem;
    font-size: 0.8rem;
    }
    
    
    }
    .search-type.active {
    background: var(--primary);
    color: white;
    }
    @media (max-width: 480px) {
    .search-results-title {
    font-size: 0.2rem;
    }
    .search-results {
    max-height: 60vh;
    font-size: 0.9rem;
    }
    }
    /* تحسينات النافذة المنسدلة */
    .search-results {
    font-family: 'Tajawal', sans-serif;
    text-align: right;
    direction: rtl;
    max-height: 400px;
    overflow-y: auto;
    background: white;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    margin-top: 0.5rem;
    }
    
    .search-result-item {
    padding: 12px;
    border-bottom: 1px solid #eee;
    transition: background 0.2s;
    cursor: pointer;
    }
    
    .search-result-item:hover {
    background: #f8f9fa;
    }
    
    .search-result-item h4 {
    color: var(--primary);
    margin: 0 0 4px 0;
    font-size: 1rem;
    }
    
    .search-result-item p {
    color: #666;
    font-size: 0.9rem;
    margin: 0;
    }
    
    .search-result-item small {
    color: var(--secondary);
    font-size: 0.8rem;
    }
    
    .no-results {
    padding: 12px;
    color: #666;
    text-align: center;
    }
    /* داخل media query أو في نهاية ملف الـ CSS */
    #jobs .search-results {
    display: none !important;
    }
    /* أضف هذا في نهاية قسم الأنماط CSS */
    #jobs .search-results {
    opacity: 0 !important;
    visibility: hidden !important;
    pointer-events: none !important;
    height: 0 !important;
    }
    
    @media (max-width: 768px) {
    #mainSearchResults {
    margin-top: -30px !important; /* تعويض المسافة للشاشات الصغيرة */
    }
    }
    /* أزرار التحكم في النتائج بنفس نمط أزرار الاختبار */
    .compare-controls {
        display: none; /* مخفي افتراضيًا */
        text-align: center;
        margin: 30px 0;
        animation: fadeIn 0.5s ease-out;
    }
    
    .compare-controls .control-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.7rem;
        margin: 0 15px;
        padding: 12px 25px;
        border-radius: 5px;
        font-weight: bold;
        font-size: 0.8rem;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        border: none;
        color: white;
        position: relative;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        text-decoration: none !important;
    }
    
    .compare-controls .control-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
    }
    
    .compare-controls .control-btn:active {
        transform: translateY(1px);
    }
    
    .compare-controls .control-btn i {
        font-size: 1rem;
    }
    
    /* زر إخفاء النتائج - نفس لون زر إعادة الاختبار */
    .compare-controls .reset-btn {
        background: var(--primary);
        color: white;
    }
    
    /* زر الصفحة الرئيسية - نفس لون زر الصفحة الرئيسية في الاختبار */
    .compare-controls .home-btn {
        background: var(--secondary) ;
        color: white ;
    }
    
    /* تأثيرات الـ Hover */
    .compare-controls .control-btn::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.2);
        transform: translateX(-100%);
        transition: transform 0.3s ease-out;
    }
    
    .compare-controls .control-btn:hover::after {
        transform: translateX(100%);
    }
    
    /* تأثير النقر */
    .compare-controls .control-btn:focus:not(:active)::after {
        animation: ripple 0.6s ease-out;
    }
    
    /* تعديلات للجوال */
    @media (max-width: 768px) {
        .compare-controls {
            margin: 20px 0;
        }
        
        .compare-controls .control-btn {
            padding: 10px 20px;
            font-size: 1em;
            margin: 0 10px;
        }
    }
    
    @media (max-width: 480px) {
        .compare-controls {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .compare-controls .control-btn {
            width: 100%;
            margin: 0;
        }
    }
    .search-results-title {
    padding-top: 40px; /* مساحة أعلى العنوان */
    margin-top: -40px; /* تعويض للتمرير الدقيق */
    scroll-margin-top: 100px; /* منع التداخل مع الشريط العلوي */
        font-size: 1rem;
       
    
    }
    /* أنماط محسنة لأزرار التبديل بين المهن والتخصصات */
    #jobs .filter-group {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin: 2rem 0;
    flex-wrap: wrap;
    }
    
    #jobs .filter-item {
    padding: 0.8rem 1.8rem;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    position: relative;
    overflow: hidden;
    z-index: 1;
    border: 2px solid var(--primary);
    background: white;
    color: var(--primary);
    box-shadow: 0 2px 8px rgba(10, 132, 255, 0.1);
    min-width: 180px;
    text-align: center;
    }
    
    #jobs .filter-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(10, 132, 255, 0.2);
    }
    
    #jobs .filter-item.active {
    background: var(--primary);
    color: white;
    border-color: var(--primary);
    box-shadow: 0 4px 16px rgba(10, 132, 255, 0.3);
    }
    
    #jobs .filter-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease;
    }
    
    #jobs .filter-item.active::before {
    opacity: 1;
    }
    
    #jobs .filter-item i {
    margin-left: 0.5rem;
    font-size: 1rem;
    }
    
    /* تأثير النقر */
    #jobs .filter-item:active {
    transform: scale(0.95);
    }
    
    /* تحسينات للجوال */
    @media (max-width: 768px) {
    #jobs .filter-item {
        padding: 0.7rem 1.2rem;
        font-size: 1rem;
        min-width: 160px;
    }
    
    #jobs .filter-group {
        gap: 0.8rem;
        margin: 1.5rem 0;
    }
    }
    
    @media (max-width: 480px) {
    #jobs .filter-item {
        padding: 0.6rem 1rem;
        font-size: 0.95rem;
        min-width: 140px;
    }
    
    #jobs .filter-item i {
        margin-left: 0.3rem;
        font-size: 0.9rem;
    }
    }
    
    
    
    .nav-link.quiz-btn {
    color: white;
    padding: 0.4rem 1rem;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    border-radius: 20px;
    display: flex
    ;
    align-items: center;
    gap: 0.7rem;
    margin-left: 0.5rem;
    box-shadow: 0 3px 12px rgba(10, 132, 255, 0.2);
    position: relative;
    z-index: 1000;
    border: none;
    text-decoration: none !important;
    
    
    }
    .nav-link.quiz-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 18px rgba(0,0,0,0.2);
    }
    
    
    
    /* حاوية الشعار وزر الاختبار */
    .logo-quiz-wrapper {
    display: flex;
    align-items: center;
    }
    
    /* تحكم في ظهور زر الاختبار في الlogo والnav-links */
    @media (min-width: 567px) {
    .logo-quiz-btn { display: none !important; }
    .navbar .nav-links .quiz-btn { display: inline-block !important; }
    }
    @media (max-width: 568px) {
    .navbar .nav-links .quiz-btn { display: none !important; }
    .logo-quiz-btn { display: inline-block !important; }
    }
    
    .logo-quiz-wrapper .logo-quiz-btn {
    margin-left: 75px !important;
    }
    
    .quiz-label {
    display: inline !important;
    font-size: 0.9rem;
    }
    
    .fa-brain {
    font-size: 1rem;
    }
    
    @media (max-width: 568px) {
    /* stack & center the container */
    .nav-container {
    flex-direction: column;
    align-items: center;
    padding: 0rem 0rem;
    }
    
    /* full-width, evenly spaced links */
    .nav-links {
    width: 100%;
    display: flex;
    justify-content: space-around;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-top: 0.5rem;
    }
    
    /* each link grows to fill the same space */
    .nav-link,
    .nav-link.quiz-btn {
    flex: 1 1 auto;
    max-width: none;     /* no cap on width */
    padding: 0.6rem 0.8rem;
    text-align: center;
    margin: 0;
    white-space: nowrap;
    }
    }
    /* داخل media query للشاشات الصغيرة */
    
    /* تحسينات عامة للاختبار */
    .quiz-container {
    background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
    border: 2px solid var(--primary);
    border-radius: 20px;
    overflow: hidden;
    }
    
    .quiz-header {
    padding: 2rem;
    }
    .quiz-header {
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    color: white !important; /* إجبار اللون الأبيض */
    }
    .quiz-option {
    background: rgba(255, 255, 255, 0.95);
    color: var(--dark);
    border: 2px solid var(--primary);
    }
    
    .quiz-option.selected {
    background: var(--secondary);
    color: white;
    border-color: var(--secondary);
    }
    .quiz-step {
    padding: 2rem;
    }
    
    .quiz-option {
    background: white;
    border: 2px solid rgba(10, 132, 255, 0.1);
    border-radius: 15px;
    padding: 1.2rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .quiz-option:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .quiz-option.selected {
    border-color: var(--secondary);
    background: rgba(58, 175, 169, 0.05);
    }
    
    /* تصميم البطاقات النهائية */
    .career-match {
    background: white;
    border-radius: 15px;
    padding: 1.5rem;
    margin: 1rem 0;
    box-shadow: 0 4px 6px rgba(0,0,0,0.05);
    transition: all 0.3s ease;
    position: relative;
    }
    
    .career-match::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: linear-gradient(90deg, var(--secondary) 0%, var(--primary) 100%);
    }
    
    .match-percent {
    font-size: 2rem;
    color: var(--primary);
    font-weight: 800;
    text-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    /* تحسينات للجوال */
    @media (max-width: 768px) {
    .quiz-option {
    padding: 1rem;
    font-size: 0.9rem;
    }
    
    .career-match {
    margin: 0.5rem 0;
    }
    }
    .career-match {
    box-shadow: 0 8px 30px rgba(10, 132, 255, 0.1);
    border: 1px solid rgba(10, 132, 255, 0.15);
    }
    .match-percent {
    color: var(--secondary);
    background: rgba(58, 175, 169, 0.1);
    padding: 0.5rem 1rem;
    border-radius: 50px;
    }
    .quiz-container {
    background: rgba(248, 249, 250, 0.95);
    backdrop-filter: blur(10px);
    }
    @media (max-width: 768px) {
    .quiz-option {
    font-size: 1rem;
    padding: 1.2rem;
    }
    
    .career-match h4 {
    font-size: 1.2rem;
    }
    }
    /* تحسينات الجوال العامة */
    @media (max-width: 768px) {
    .quiz-container {
    margin: 0rem;
    border-radius: 15px;
    }
    
    .quiz-header {
    padding: 1.5rem;
    }
    
    .quiz-header h3 {
    font-size: 1.4rem;
    line-height: 1.3;
    }
    
    .quiz-step {
    padding: 1.5rem;
    }
    
    .quiz-option {
    padding: 1rem;
    gap: 0.8rem;
    }
    
    .option-number {
    width: 25px;
    height: 25px;
    font-size: 0.9rem;
    }
    
    .start-quiz-btn {
    width: 100%;
    padding: 1rem;
    }
    }
    
    /* تحسينات للشاشات الصغيرة جدًا */
    @media (max-width: 480px) {
    .quiz-header p {
    font-size: 0.9rem;
    }
    
    .question-text {
    font-size: 1.1rem;
    margin-bottom: 1rem;
    }
    
    .quiz-option {
    font-size: 0.9rem;
    padding: 0.8rem;
    }
    
    .career-match {
    padding: 1rem;
    }
    
    .match-percent {
    font-size: 1.5rem;
    }
    }
    /* منع التمرير الأفقي غير الضروري */
    
    
    /* تحسين تجربة التمرير */
    .quiz-step {
    scroll-margin-top: 80px; /* تعويض ارتفاع الهيدر */
    }
    .start-quiz-btn {
    /* إضافة أيقونة سهم */
    position: relative;
    padding-right: 2.5rem !important;
    }
    
    .start-quiz-btn::after {
    content: "↓";
    position: absolute;
    right: 1.5rem;
    top: 50%;
    transform: translateY(-50%);
    animation: bounce 1s infinite;
    }
    
    @keyframes bounce {
    0%, 100% { transform: translateY(-50%); }
    50% { transform: translateY(-30%); }
    }
    #showProfessionsBtn.active,
    #showMajorsBtn.active {
    background: var(--primary) !important;
    color: white !important;
    border-color: var(--primary) !important;
    opacity: 1 !important;
    }
    /* أنماط الفلترة الجديدة */
    .filter-group {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    }
    
    .filter-toggle {
    position: relative;
    display: inline-block;
    width: 280px;
    height: 60px;
    margin: 10px 0;
    }
    
    .filter-toggle input {
    opacity: 0;
    width: 0;
    height: 0;
    }
    
    .filter-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #f0f0f0;
    transition: .4s;
    border-radius: 34px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .filter-slider:before {
    position: absolute;
    content: "";
    height: 50px;
    width: 140px;
    left: 5px;
    bottom: 5px;
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    transition: .4s;
    border-radius: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
    }
    
    .filter-toggle input:checked + .filter-slider:before {
    transform: translateX(130px);
    }
    
    .filter-slider-text {
    position: absolute;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: space-around;
    font-weight: bold;
    color: var(--dark);
    }
    
    .filter-slider-text span {
    width: 50%;
    text-align: center;
    z-index: 1;
    transition: color 0.3s;
    }
    
    .filter-toggle input:checked + .filter-slider .filter-slider-text span:first-child {
    color: #999;
    }
    
    .filter-toggle input:not(:checked) + .filter-slider .filter-slider-text span:last-child {
    color: #999;
    }
    
    /* بطاقات الفلترة */
    .field-filters {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    justify-content: center;
    margin: 1.5rem 0;
    }
    
    .field-filter-card {
    position: relative;
    width: 120px;
    height: 120px;
    perspective: 1000px;
    cursor: pointer;
    }
    
    .field-filter-inner {
    position: relative;
    width: 100%;
    height: 100%;
    transition: transform 0.6s;
    transform-style: preserve-3d;
    }
    
    .field-filter-card input:checked ~ .field-filter-inner {
    transform: rotateY(180deg);
    }
    
    .field-filter-front, .field-filter-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: 15px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    transition: all 0.3s;
    }
    
    .field-filter-front {
    background: white;
    border: 2px solid var(--light);
    }
    
    .field-filter-back {
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    color: white;
    transform: rotateY(180deg);
    }
    
    .field-filter-card input {
    position: absolute;
    opacity: 0;
    width: 0;
    height: 0;
    }
    
    .field-filter-icon {
    font-size: 2rem;
    margin-bottom: 0.5rem;
    color: var(--primary);
    }
    
    .field-filter-back .field-filter-icon {
    color: white;
    }
    
    .field-filter-name {
    font-weight: bold;
    text-align: center;
    font-size: 0.9rem;
    }
    
    .field-filter-card:hover .field-filter-front {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    }
    
    /* تأثيرات للشاشات الصغيرة */
    @media (max-width: 768px) {
    .field-filter-card {
    width: 100px;
    height: 100px;
    }
    
    .filter-toggle {
    width: 240px;
    height: 50px;
    }
    
    .filter-slider:before {
    height: 40px;
    width: 110px;
    }
    
    .filter-toggle input:checked + .filter-slider:before {
    transform: translateX(110px);
    }
    }
    /* أضف هذا الكود في نهاية ملف style.css */
    
    @media (min-width: 360px) and (max-width: 396px) {
        /* تعديلات بطاقات الفلترة */
        .field-filter-card {
            width: 90px; /* تقليل العرض */
            height: 90px; /* تقليل الارتفاع */
            margin: 0.2rem; /* تقليل الهوامش */
        }
    
        .field-filter-icon {
            font-size: 1.5rem; /* تصغير حجم الأيقونات */
        }
    
        .field-filter-name {
            font-size: 0.75rem; /* تصغير حجم النص */
        }
    
        /* تعديلات أزرار التبديل بين المهن والتخصصات */
        #jobs .filter-item {
            padding: 0.5rem 0.8rem;
            font-size: 0.8rem;
            min-width: 100px;
        }
    
        /* تعديلات شريط البحث */
        .search-input {
            padding-left: 90px !important;
        }
    
        .search-type {
            padding: 0.2rem 0.5rem;
            font-size: 0.7rem;
        }
    
        /* تعديلات الفلاتر في قسم best-jobs */
        #best-jobs .filter-item {
            padding: 0.5rem 0.8rem;
            font-size: 0.8rem;
            min-width: 100px;
        }
    
        /* ضبط عدد الأعمدة في grid */
        .field-filters {
            grid-template-columns: repeat(3, 1fr); /* 3 أعمدة بدلاً من 2 */
            gap: 0.5rem; /* تقليل المسافة بين العناصر */
        }
    
        /* تعديلات إضافية لتحسين المساحة */
        .filter-container {
            padding: 0 0.5rem;
        }
    
        .filter-title {
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
        }
    }
    
    /* تحسينات إضافية للشاشات بين 395px و 480px */
    @media (min-width: 396px) and (max-width: 480px) {
        .field-filter-card {
            width: 100px;
            height: 100px;
        }
    
        .field-filters {
            grid-template-columns: repeat(3, 1fr);
            gap: 0.8rem;
        }
    }
    @media (max-width: 768px) {
        .nav-links {
          display: flex !important;
          flex-wrap: nowrap !important; /* منع النزول لسطر جديد */
          overflow-x: auto !important; /* تمكين التمرير الأفقي إذا لزم الأمر */
          -webkit-overflow-scrolling: touch; /* تمرير سلس على الأجهزة المحمولة */
          gap: 0.5rem !important;
          padding-bottom: 0.5rem; /* مساحة للتمرير */
        }
      
        .nav-link {
          flex-shrink: 0 !important; /* منع الأزرار من التقلص */
          white-space: nowrap !important;
          padding: 0.4rem 0.8rem !important;
          font-size: 0.85rem !important;
        }
        
        /* إخفاء شريط التمرير المرئي */
        .nav-links::-webkit-scrollbar {
          display: none;
        }
      }
      @media (max-width: 480px) {
        .nav-link {
          font-size: 0.8rem !important;
          padding: 0.3rem 0.6rem !important;
        }
        
        .nav-links {
          gap: 0.3rem !important;
        }
        
        /* تثبيت الزر النشط */
        .nav-link.active {
          box-shadow: 0 2px 6px rgba(0,0,0,0.2);
          position: relative;
          z-index: 1;
        }
      }
      /* تنسيقات أزرار التبديل الجديدة */
    .search-type {
        padding: 0.5rem 1rem;
        border: none;
        border-radius: 20px;
        background: rgba(10, 132, 255, 0.1);
        color: var(--primary);
        font-weight: 600;
        font-size: 0.9rem;
        cursor: pointer;
        transition: all 0.2s ease;
        position: relative;
        border: 1px solid rgba(10, 132, 255, 0.384);
      }
      
      .search-type.active {
        background: var(--primary);
        color: white !important;
        box-shadow: 0 3px 8px rgba(10, 132, 255, 0.2);
        border-color: transparent;
      }
      
      .search-type:not(.active):hover {
        background: rgba(10, 132, 255, 0.15);
        transform: translateY(-1px);
      }
      
      /* تأثيرات بسيطة للتركيز */
      .search-type::after {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: 20px;
        box-shadow: 0 2px 6px rgba(10, 132, 255, 0.1);
        opacity: 0;
        transition: opacity 0.3s ease;
      }
      
      .search-type.active::after {
        opacity: 1;
      }
      
      /* تحسينات للشاشات الصغيرة */
      @media (max-width: 768px) {
        .search-type {
          padding: 0.35rem 1.2rem;
          font-size: 0.85rem;
        }
      }
      @media (max-width: 768px) {
        .search-input {
          font-size: 0.9rem; /* حجم نص مناسب للجوال */
          padding: 0.8rem 1rem;
        }
        
        .search-type {
          font-size: 0.8rem; /* نص أصغر مع الحفاظ على الوضوح */
          padding: 0.4rem 1rem;
        }
      }
      .search-input {
        padding-right: 50px !important; /* مساحة للأيقونة على اليمين */
        padding-left: 130px !important; /* مساحة للأزرار على اليسار */
      }
      .search-btn {
        right: 15px !important;
        left: auto !important;
        width: 24px;
        height: 24px;
        pointer-events: none; /* منع التداخل مع النقر */
      }
      .search-container {
        width: 100%; /* ملء العرض المتاح */
        max-width: 100%; /* إزالة أي حدود قصوى */
        margin: 0 10px; /* هوامش جانبية صغيرة */
        border-radius: 25px; /* زوايا مدورة */
      }
      @media (max-width: 768px) {
        .search-container {
          margin: 0 8px !important; /* تقليل الهوامش */
          height: 48px; /* ارتفاع مناسب للجوال */
        }
      
        .search-input {
          padding-left: 120px !important; /* مساحة مخصصة للأزرار */
          padding-right: 45px !important; /* مساحة مخصصة للأيقونة */
        }
      
        .search-type-buttons {
          left: 6px !important; /* محاذاة دقيقة للأزرار */
          gap: 5px !important; /* تقليل المسافة بين الأزرار */
        }
      
        .search-type {
          font-size: 0.8rem !important; /* حجم خط أصغر */
        }
      
        .search-btn {
          right: 12px !important; /* أيقونة أقرب للحافة */
          font-size: 1rem !important;
        }
      }
      @media (max-width: 480px) {
        .search-container {
          margin: 0 5px !important;
          height: 44px; /* ارتفاع أكثر إحكاما */
        }
      
        .search-input {
          padding-left: 110px !important;
          padding-right: 40px !important;
          font-size: 0.9rem !important; /* نص أكبر للقراءة */
        }
      
        .search-type {
          padding: 0.50rem 0.8rem !important;
          font-size: 0.65rem !important; /* نص واضح حتى على الشاشات الصغيرة */
        }
      
        .search-btn {
          right: 10px !important;
          font-size: 0.9rem !important;
        }
      }
    
    /* أضف هذه الأنماط في قسم الـ CSS */
    
    #best-jobs .profession-card {
    background: linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);
    border-radius: 20px;
    padding: 2rem;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border: 1px solid rgba(10, 132, 255, 0.1);
    position: relative;
    overflow: visible;
    margin-bottom: 1.5rem;
    }
    
    #best-jobs .profession-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 40px rgba(10, 132, 255, 0.15);
    }
    
    #best-jobs .profession-card::after {
    content: "";
    position: absolute;
    bottom: -10px;
    left: 5%;
    width: 90%;
    height: 20px;
    background: rgba(58, 175, 169, 0.1);
    filter: blur(15px);
    z-index: -1;
    transition: all 0.3s ease;
    }
    
    #best-jobs .profession-card h3 {
    color: var(--primary);
    font-size: 1.5rem;
    margin-bottom: 1.2rem;
    position: relative;
    padding-bottom: 0.8rem;
    }
    
    #best-jobs .profession-card h3::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    width: 50px;
    height: 3px;
    background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
    border-radius: 2px;
    }
    
    #best-jobs .stats-grid {
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: 1.2rem;
    margin: 1.5rem 0;
    }
    
    #best-jobs .stat-item {
    background: rgba(255, 255, 255, 0.9);
    border: 1px solid rgba(10, 132, 255, 0.1);
    backdrop-filter: blur(5px);
    padding: 1.2rem;
    border-radius: 12px;
    }
    
    #best-jobs .specialties-list li {
    padding: 0.6rem 1rem;
    margin: 0.4rem 0;
    background: rgba(58, 175, 169, 0.05);
    border-radius: 8px;
    transition: all 0.2s ease;
    }
    
    #best-jobs .specialties-list li:hover {
    background: rgba(58, 175, 169, 0.1);
    transform: translateX(5px);
    }
    
    #best-jobs .demand-bar {
    height: 10px;
    border-radius: 5px;
    background: rgba(10, 132, 255, 0.1);
    }
    
    #best-jobs .demand-fill {
    border-radius: 5px;
    background: linear-gradient(90deg, var(--secondary) 0%, var(--primary) 100%);
    }
    
    #best-jobs .growth-rate {
    font-size: 0.95rem;
    padding: 0.5rem 1rem;
    background: rgba(58, 175, 169, 0.1);
    border-radius: 20px;
    }
    
    @media (max-width: 768px) {
    #best-jobs .profession-card {
        padding: 1.5rem;
        margin: 0 0 1rem 0;
    }
    
    #best-jobs .profession-card h3 {
        font-size: 1.3rem;
    }
    
    #best-jobs .stats-grid {
        grid-template-columns: 1fr;
    }
    }
    /* التعديلات الجديدة */
    #best-jobs .professions-grid {
    grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
    gap: 2.5rem;
    }
    
    #best-jobs .profession-card {
    background: linear-gradient(145deg, #ffffff 0%, #f8faff 100%);
    border-radius: 24px;
    padding: 2.5rem;
    border: 1px solid rgba(10, 132, 255, 0.15);
    box-shadow: 
        0 12px 24px rgba(10, 132, 255, 0.08),
        0 4px 12px rgba(0, 0, 0, 0.05);
    transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
    position: relative;
    overflow: visible;
    }
    
    #best-jobs .profession-card:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 
        0 16px 40px rgba(10, 132, 255, 0.15),
        0 8px 20px rgba(58, 175, 169, 0.1);
    }
    
    #best-jobs .profession-card::before {
    content: "";
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(45deg, 
        rgba(10, 132, 255, 0.1) 0%,
        rgba(58, 175, 169, 0.1) 100%);
    z-index: -1;
    border-radius: 26px;
    opacity: 0;
    transition: opacity 0.3s ease;
    }
    
    #best-jobs .profession-card:hover::before {
    opacity: 1;
    }
    
    /* تحسين العنوان */
    #best-jobs .profession-card h3 {
    color: var(--primary);
    font-size: 1.6rem;
    margin-bottom: 1.5rem;
    position: relative;
    padding-bottom: 1rem;
    }
    
    #best-jobs .profession-card h3::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    width: 60px;
    height: 4px;
    background: linear-gradient(90deg, 
        var(--primary) 0%, 
        var(--secondary) 100%);
    border-radius: 4px;
    }
    
    /* تحسين الأزرار والعلامات */
    #best-jobs .filter-item {
    border-radius: 32px;
    border: 2px solid var(--primary);
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(4px);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    }
    
    #best-jobs .filter-item::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(45deg, 
        var(--primary) 0%, 
        var(--secondary) 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: -1;
    }
    
    #best-jobs .filter-item.active {
    color: white;
    border-color: transparent;
    }
    
    #best-jobs .filter-item.active::before {
    opacity: 1;
    }
    
    #best-jobs .filter-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(10, 132, 255, 0.15);
    }
    
    
    /* تحسين شريط الطلب */
    #best-jobs .demand-bar {
    height: 12px;
    border-radius: 8px;
    background: rgba(10, 132, 255, 0.1);
    }
    
    #best-jobs .demand-fill {
    border-radius: 8px;
    background: linear-gradient(90deg, 
        var(--secondary) 0%, 
        var(--primary) 100%);
    box-shadow: 0 2px 8px rgba(58, 175, 169, 0.3);
    }
    
    /* تعديلات الاستجابة */
    @media (max-width: 768px) {
    #best-jobs .professions-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
        
    }
    
    #best-jobs .profession-card {
        padding: 1.8rem;
        margin: 0 0 1.2rem 0;
    }
    
    #best-jobs .profession-card h3 {
        font-size: 1.4rem;
    }
    
    }
    #jobs .filter-group {
    background: rgba(10, 132, 255, 0.336);
    padding: 1rem;
    box-shadow: 0 4px 20px rgba(10, 132, 255, 0.411);
    border: 1px solid rgba(10, 132, 255, 0.15);
}

#jobs .filter-item {
    padding: 1.2rem 2.5rem !important;
    font-size: 1.1rem !important;
    border-radius: 12px !important;
   
    border: 2px solid var(--primary) !important;
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(4px);
    box-shadow: 0 4px 15px rgba(10, 132, 255, 0.1);
}

#jobs .filter-item::before {
    background: linear-gradient(45deg, 
        var(--primary) 0%, 
        var(--secondary) 100%);
   
}

#jobs .filter-item.active {
    color: white !important;
    border-color: transparent !important;
    box-shadow: 0 6px 25px rgba(10, 132, 255, 0.2);
}


#jobs .filter-item:hover {
    box-shadow: 0 6px 20px rgba(10, 132, 255, 0.2);
}

#jobs .filter-item:not(.active):hover {
    background: rgba(10, 132, 255, 0.253) !important;
}

/* أيقونات الأزرار */
#jobs .filter-item i {
    margin-left: 10px;
    font-size: 1.2em;
    transition: transform 0.3s ease;
}

#jobs .filter-item.active i {
    transform: rotate(360deg);
}
#jobs .filter-group {
margin: 0rem 0;

}
    
/* للشاشات الصغيرة */
@media (max-width: 768px) {
    #jobs .filter-item {
        padding: 1rem 0.4rem !important;
        font-size: 1rem !important;
    }
    
    #jobs .filter-group {
        padding: 0.6rem ;
    }
}
@media (max-width: 480px) {
    #jobs .filter-item {
        padding: 1rem 1.5rem !important;
        font-size: 0.8rem !important;
    }
    
    #jobs .filter-group {
        padding: 0.6rem;
    }
}

@media (max-width: 420px) {
    #jobs .filter-item {
        font-size: 12px !important;
    }
    
}

@media (max-width: 406px) {
    #jobs .filter-item {
        font-size: 11px !important;

    }
   
}

@media (max-width: 374px) {
    #jobs .filter-item {
        font-size: 10px !important;

    }
     #jobs .filter-group {
        padding: 0.4rem;
    }
}
    /* أنماط مخصصة للمفتاح التبديل */
.toggle-switch {
    position: relative;
    display: inline-block;
    width: 320px; /* عرض مناسب للمحتوى */
    height: 56px; /* ارتفاع مناسب لللمس */
    background: #f0f0f0;
    border-radius: 32px; /* زوايا دائرية كاملة */
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.toggle-switch input[type="radio"] {
    display: none;
}

.toggle-option {
    position: absolute;
    top: 0;
    width: 50%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    color: #444;
    cursor: pointer;
    transition: all 0.3s;
    z-index: 2;
    padding: 0 1rem;
}

#compareJobs + label {
    left: 0;
    direction: rtl;
}

#compareMajors + label {
    right: 0;
    direction: ltr;
}

.toggle-slider {
    position: absolute;
    top: 4px;
    left: 4px;
    width: calc(50% - 8px);
    height: calc(100% - 8px);
    background: linear-gradient(135deg, #0A84FF 0%, #3AAFA9 100%);
    border-radius: 28px;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 1;
}

/* حالة التفعيل */
#compareMajors:checked ~ .toggle-slider {
    transform: translateX(103%);
}

/* تنسيق النص والأيقونات */
.toggle-option i {
    font-size: 1.2rem;
    margin: 0 0.5rem;
    transition: transform 0.3s;
}

.toggle-option span {
    white-space: nowrap;
}

/* حالة النشطة */
#compareJobs:checked ~ .toggle-option:first-child,
#compareMajors:checked ~ .toggle-option:last-child {
    color: white;
    text-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

/* تأثيرات الhover */
.toggle-option .active :hover {
    color: #0A84FF;
}

/* استجابة للجوالات */
@media (max-width: 768px) {
    .toggle-switch {
        width: 100%;
        height: 52px;
    }
    
    .toggle-slider {
        height: calc(100% - 8px);
    }
    
    .toggle-option {
        font-size: 0.95rem;
        padding: 0 0.8rem;
    }
    
    .toggle-option i {
        font-size: 1.1rem;
    }
}

@media (max-width: 480px) {
    .toggle-switch {
        height: 48px;
    }
    
    .toggle-option {
        font-size: 0.9rem;
        padding: 0 0.6rem;
    }
    
    .toggle-option i {
        font-size: 1rem;
        margin: 0 0.3rem;
    }
}
   /* أنماط مخصصة للمفتاح التبديل - الإصدار المعدل */
.toggle-switch {
    position: relative;
    display: inline-block;
    width: 500px; /* زيادة العرض من 320 إلى 380 */
    height: 56px;
    background: #f8f9fa;
    border-radius: 32px;
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.toggle-option {
    position: absolute;
    top: 0;
    width: 50%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700; /* زيادة سماكة الخط */
    color: #444;
    cursor: pointer;
    transition: all 0.3s;
    z-index: 2;
    padding: 0 1.5rem; /* زيادة المساحة الداخلية */
    gap: 0.8rem; /* زيادة المسافة بين الأيقونة والنص */
}

.toggle-slider {
    position: absolute;
    top: 4px;
    left: 4px;
    width: calc(50% - 8px);
    height: calc(100% - 8px);
    background: linear-gradient(135deg, #0A84FF 0%, #3AAFA9 100%);
    border-radius: 28px;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 1;
}

/* تعديلات الاستجابة للشاشات */
@media (max-width: 768px) {
    .toggle-switch {
        width: 100%;
        max-width: 450px; /* زيادة من 300 إلى 340 */
        height: 54px;
    }
    
    .toggle-option {
        padding: 0 1.2rem;
        gap: 0.6rem;
        font-size: 1rem; /* حجم خط أكبر */
    }
}

@media (max-width: 480px) {
    .toggle-switch {

        height: 50px;
    }
    
    .toggle-option {
        padding: 0 1rem;
        gap: 0.5rem;
        font-size: 0.95rem;
    }
    
    .toggle-option i {
        font-size: 1.1rem;
    }
}

@media (max-width: 480px) {
    .toggle-switch {
        height: 50px;
    }
}
/* تأثيرات الhover المحسنة */

.toggle-option :hover {
    color: #000000;
    font-weight: bold;
    transform: scale(1.08);
}

.toggle-option:hover i {
    transform: rotate(-15deg);
} 

#compareHeader1:hover, 
#compareHeader2:hover {
    color: var(--primary);
    cursor: pointer;
    text-decoration: underline;
    transition: all 0.2s ease;
}
/* تأثيرات Hover لنتائج المقارنة */
#compareResults table tbody tr:hover {
    background-color: rgba(10, 132, 255, 0.1);
    transition: background-color 0.3s ease;
}

#compareResults table tbody tr td:hover {
    transform: scale(1.02);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
}

.compare-winner {
    position: relative;
}

.compare-winner::after {
    content: "✓ الأفضل";
    position: absolute;
    top: -10px;
    right: -10px;
    background-color: #2ecc71;
    color: white;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 0.7rem;
    font-weight: bold;
}

/* تأثيرات للعناوين عند Hover */
#compareHeader1:hover, 
#compareHeader2:hover {
    color: black;
    cursor: pointer;
    text-decoration:none;
    transition: all 0.2s ease;
}
/* تنسيق جدول المقارنة */
#compareResults table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    margin: 1rem 0;
}

#compareResults table th {
    background-color: var(--primary);
    color: white;
    padding: 12px;
    text-align: center;
    position: sticky;
    top: 0;
}

#compareResults table td {
    padding: 12px;
    text-align: center;
    border-bottom: 1px solid #eee;
    transition: all 0.3s ease;
    position: relative;
}

#compareResults table tr:last-child td {
    border-bottom: none;
}

#compareResults table td:nth-child(1) {
    text-align: right;
    font-weight: bold;
    background-color: #f9f9f9;
}

#compareResults table tr:hover td:nth-child(1) {
    background-color: #f1f1f1;
}
/* تحسينات النافذة المنبثقة */
.modal-content {
    animation: modalOpen 0.4s ease-out;
}

@keyframes modalOpen {
    from {
        transform: translateY(20px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

.modal {
    backdrop-filter: blur(5px);
}

.close-btn:hover {
    transform: rotate(90deg);
    color: var(--primary);
    transition: all 0.3s ease;
}
/* تأثيرات إضافية للبطاقات */
.profession-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.1);
}

.profession-card:hover .category-tag {
    background-color: var(--secondary);
    color: white;
}

.profession-card:hover .highlight {
    color: var(--primary);
    font-weight: bold;
}
/* أنماط زر عرض المزيد */
.show-more-btn {
    background: transparent;
    border: 1px solid var(--primary);
    color: var(--primary);
    padding: 0.5rem 1.5rem;
    border-radius: 20px;
    margin: 1rem auto;
    display: block;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.9rem;
}

.show-more-btn:hover {
    background: rgba(10, 132, 255, 0.1);
}

.show-more-btn i {
    margin-left: 0.5rem;
    transition: transform 0.3s ease;
}

.show-more-btn.active i {
    transform: rotate(180deg);
}

/* تعديلات الفلترة للشاشات الصغيرة */
@media (max-width: 768px) {
    .field-filters {
        max-height: 220px;
        overflow: hidden;
        transition: max-height 0.3s ease;
    }
    
    .field-filters.expanded {
        max-height: 1000px;
    }
}

/* تعديلات الفلترة للشاشات الصغيرة */
@media (max-width: 394px) {
    .field-filters {
        max-height: 209px;
        overflow: hidden;
        transition: max-height 0.3s ease;
    }
    
    .field-filters.expanded {
        max-height: 1000px;
    }
}
/* أنماط زر السؤال السابق */
.quiz-nav-btn.prev-btn {
    background: linear-gradient(135deg, rgba(10, 132, 255, 0.1) 0%, rgba(58, 175, 169, 0.1) 100%);
    color: var(--primary);
    border: 2px solid var(--primary);
    padding: 0.8rem 1.5rem;
    border-radius: 30px;
    font-weight: 600;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 2px 8px rgba(10, 132, 255, 0.1);
    margin-right: 0.5rem;
    margin-top: 0.8rem;
}

.quiz-nav-btn.prev-btn:hover {
    background: linear-gradient(135deg, rgba(10, 132, 255, 0.2) 0%, rgba(58, 175, 169, 0.2) 100%);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(10, 132, 255, 0.15);
}

.quiz-nav-btn.prev-btn:active {
    transform: translateY(0);
}

.quiz-nav-btn.prev-btn i {
    margin-left: 0.5rem;
    transition: transform 0.3s ease;
}

.quiz-nav-btn.prev-btn:hover i {
    transform: translateX(5px);
}
@media (max-width: 768px) {
    .quiz-nav-btn.prev-btn {
        padding: 0.6rem 1.2rem;
        font-size: 0.9rem;
    }
}

@media (max-width: 480px) {
    .quiz-nav-btn.prev-btn {
        padding: 0.5rem 1rem;
        font-size: 0.85rem;
    }
    
    .quiz-nav-btn.prev-btn i {
        margin-left: 0.3rem;
        font-size: 0.9rem;
    }
}
</style>

</head>
<body>
<!-- الترويسة -->
<nav class="navbar">
    <div class="nav-container">
    <div class="logo-quiz-wrapper">
      <a class="logo" href="#">World<span>Careers</span></a>
      <a class="nav-link quiz-btn logo-quiz-btn" href="#quiz">
        <i class="fas fa-brain"></i>
        <span class="quiz-label"style="font: 1.1em sans-serif;">اكتشف مهنتك</span>
    
    </a>
    </div>
    <!-- شريط البحث -->
    <!-- داخل قسم navbar -->
    <div class="search-container">
    <input class="search-input" dir="rtl" id="searchInput" placeholder="ابحث عن مهنة..." type="text"/>
    <div class="search-type-buttons" >
    <button class="search-type" data-type="majors"><i class="fas fa-graduation-cap"></i>    التخصص</button>
    <button class="search-type active" data-type="jobs"><i class="fas fa-briefcase" style="left: 0.1rem;"></i>   المهنة</button>
    </div>
    <button class="search-btn"><i class="fas fa-search"></i></button>
    <div class="search-results" id="searchResults"></div>
    </div>
    <!-- في قسم navbar -->
    <div class="nav-links">
    <a class="nav-link" href="#about">عنا</a>
    <a class="nav-link" href="#compare">قارن </a>
    <a class="nav-link" href="#best-jobs">مهن ذهبية</a>
    
    <a class="nav-link active" href="#jobs">المهن و التخصصات</a> 
    <!-- إضافة زر الاختبار هنا -->
          <a class="nav-link quiz-btn" href="#quiz" >
            <i class="fas fa-brain"></i>
            <span class="quiz-label"style="font: 1.1em sans-serif;">اكتشف مهنتك</span>
        </a>
    </div>
    </div>
    </nav>
<header class="header">
<h1>دليل المهن العالمي</h1>
<p>كل ماتريد معرفته عن المهن والتخصصات في الخليج أو في الوطن العربي موجود هنا</p>
</header>
<!-- قسم Best Jobs & Majors -->
<section class="content-section" id="best-jobs">
<div class="filter-box">
<div class="filter-group">
<div class="filter-item active" data-filter="best" onclick="toggleFilter(this, 'best')">
              مهن ذهبية  <i class="fas fa-medal"></i>
</div>
<div class="filter-item" data-filter="profit" onclick="toggleFilter(this, 'profit')">
                الأكثر ربحًا <i class="fas fa-coins"></i>
</div>
<div class="filter-item" data-filter="demand" onclick="toggleFilter(this, 'demand')">
                الأكثر طلبًا <i class="fas fa-fire"></i>
</div>
<div class="filter-item" data-filter="opportunities" onclick="toggleFilter(this, 'opportunities')">
                أكثر فرص عمل <i class="fas fa-briefcase"></i>
</div>
<div class="filter-item" data-filter="entry" onclick="toggleFilter(this, 'entry')">
                مبتدئ-friendly <i class="fas fa-user-graduate"></i>
</div>
</div>
</div>
<div class="professions-grid" id="bestJobsContainer"></div>
</section>
<!-- قسم compare / Hunt a job -->
        <!-- اختيار نوع المقارنة -->
        <section class="content-section" id="compare">
            <div class="content-card">
                <div class="compare-header">
                    <h2 style="color: var(--primary); text-align: center; margin-bottom: 1.5rem;">
                     قسم المقارنة  <i class="fas fa-balance-scale"></i>
                    </h2>
                    <p style="text-align: center; color: #666; margin-bottom: 2rem;">
                        قارن بين المهن أو التخصصات الجامعية لاتخاذ القرار الأفضل لمستقبلك
                    </p>
                </div>
  
        <!-- اختيار نوع المقارنة -->
        <div class="compare-type-selector" >
           <div class="toggle-switch">
    <input type="radio" id="compareJobs" name="compareType" value="jobs" checked onclick="setCompareType('jobs')">
    <label for="compareJobs" class="toggle-option .active">
        <span>مقارنة المهن</span>
         <i class="fas fa-briefcase"></i>
    </label>

    <input type="radio" id="compareMajors" name="compareType" value="majors" onclick="setCompareType('majors')">
    <label for="compareMajors" class="toggle-option">
        <i class="fas fa-graduation-cap"></i>
        <span>مقارنة التخصصات</span>
    </label>

    <span class="toggle-slider"></span>
</div>
        </div>
<!-- حقول إدخال البحث -->
<div class="compare-inputs-container">
    <div class="compare-input-group">
        <div class="input-header">
            <span class="input-number">1</span>
            <h4>المادة الأولى</h4>
        </div>
        <div class="search-container compare-search">
            <input type="text" class="search-input" placeholder="ابحث هنا..." 
                   id="compareInput1" autocomplete="off" dir="rtl">
            <button class="search-btn"><i class="fas fa-search"></i></button>
            <div class="search-results" id="compareResults1"></div>
        </div>
    </div>

    <div class="compare-divider">
        <div class="divider-line"></div>
    </div>

    <div class="compare-input-group">
        <div class="input-header">
            <span class="input-number">2</span>
            <h4>المادة الثانية</h4>
        </div>
        <div class="search-container compare-search">
            <input type="text" class="search-input" placeholder="ابحث هنا..." 
                   id="compareInput2" autocomplete="off" dir="rtl">
            <button class="search-btn"><i class="fas fa-search"></i></button>
            <div class="search-results" id="compareResults2"></div>
        </div>
    </div>
</div>
<div class="compare-action">
    <button id="compareBtn" onclick="compareItems()" class="compare-button">
        <i class="fas fa-exchange-alt"></i> قارن الآن
        <span class="tooltip">سيتم عرض النتائج في الأسفل</span>
    </button>
</div>
<!-- نتائج المقارنة -->
<div id="compareResults" style="display: none;">
    <h3>نتائج المقارنة</h3>
    
    <div class="table-scroll">
        <table>
            <thead>
                <tr>
                    <th>المعيار</th>
                    <th id="compareHeader1"></th>
                    <th id="compareHeader2"></th>
                </tr>
            </thead>
            <tbody id="compareTableBody">
                <!-- سيتم ملؤه بالبيانات -->
            </tbody>
        </table>
    </div>
    
    <div class="compare-section-divider"></div>
    
    <div id="compareDetails">
        <!-- تفاصيل كل عنصر -->
    </div>

</div><!-- تفاصيل كل عنصر -->
<!-- استبدل الأزرار القديمة بهذا الكود -->
<!-- داخل قسم compareResults بعد جدول النتائج -->
<div class="compare-controls" id="compareControls">
    <button onclick="resetcom()" class="control-btn reset-btn">
        <i class="fas fa-redo"></i> مقارنة اخرى 
    </button>
    <button onclick="goToHome()" class="control-btn home-btn">
        <i class="fas fa-home"></i> الصفحة الرئيسية
    </button>
</div>
</div>
</div>
</div>
</section>
<!-- قسم About Us -->
<section class="content-section" id="about">
<div class="content-card">
<p style="margin-bottom: 1.5rem; font-size: 1.1rem;">نحن منصة متخصصة في توفير المعلومات المهنية والوظيفية حول أكثر من <strong>10,287</strong> مهنة حول العالم.</p>
<p style="margin-bottom: 1.5rem; font-size: 1.1rem;">تأسس موقعنا في عام 2015 بهدف مساعدة الباحثين عن عمل والمهنيين في اتخاذ قراراتهم الوظيفية بناءً على بيانات دقيقة.</p>
<p style="margin-bottom: 1.5rem; font-size: 1.1rem;">فريقنا يتكون من <strong>45</strong> خبيراً في التوظيف واقتصاديات العمل من مختلف أنحاء العالم.</p>
<p style="font-size: 1.1rem;">نقدم معلومات محدثة عن الرواتب، متطلبات المهارات، اتجاهات سوق العمل، وأفضل المسارات الوظيفية.</p>
</div>
</section>
<!-- قسم الاختبار المستقل -->
<section class="content-section" id="quiz">
  
    <div class="quiz-container">
        <div class="quiz-header">
            <h1 style="color: white;">اختبار المهن المناسبة</h1>
            <p style="color: white;">اكتشف المهنة التي تناسب مهاراتك واهتماماتك من خلال هذا الاختبار البسيط</p>
            </div>
            <div class="quiz-step active" id="quizWelcome">
            <p style="text-align: center; margin-bottom: 2rem;">سيساعدك هذا الاختبار على تحديد المهن التي تتوافق مع تفضيلاتك في:</p>
            <ul style="margin-bottom: 2rem; padding-right: 1.5rem;">
            <li>نطاق الراتب المطلوب</li>
            <li>مجال العمل المفضل</li>
            <li>مستوى الطلب في سوق العمل</li>
            <li>المهارات الشخصية</li>
            </ul>
            <button class="start-quiz-btn" onclick="startQuiz()">ابدأ الاختبار</button>
            </div>
            <div class="quiz-step" id="quizQuestions">
                <div class="quiz-progress">
                    <div class="quiz-progress-bar" id="quizProgressBar" style="width: 0%"></div>
                </div>
                <div class="question-text" id="currentQuestion"></div>
                <div class="quiz-options" id="quizOptions"></div>
                <div class="quiz-navigation">
                    <button class="quiz-nav-btn prev-btn" id="prevQuestionBtn" style="display: block;">
                        <i class="fas fa-arrow-right"></i> السؤال السابق
                    </button>
                </div>
            
            </div>
            <div class="quiz-step" id="quizResults">
            <div class="quiz-results">
            <h3 style="color: var(--primary); margin-bottom: 1.5rem;">نتائج الاختبار</h3>
            <p style="margin-bottom: 1.5rem; display: none ;" id="newsen">بناءً على إجاباتك، إليك أفضل المهن التي تناسبك:</p>
            <div id="careerMatches"></div>
            <div class="quiz-actions">
                <div id="quizResults">
                    <button onclick="restartQuiz()" class="quiz-btn home-btn" style="background-color: #0A84FF;">
                    <i class="fas fa-redo"></i> إعادة الاختبار
                    </button>
                </div>
                                        </button>
            <button class="quiz-btn home-btn" onclick="goToHome()">
            <i class="fas fa-home"></i> الصفحة الرئيسية
                                        </button>
            </div>
            </div>
            </div>
            </div>
            </div>
    </div>
</section>
<!-- قسم Jobs and Careers (الواجهة الأساسية) -->
<!-- قسم Jobs and Careers (الواجهة الأساسية) -->
<section id="jobs">
    <!-- Toggle Switch للتبديل بين المهن والتخصصات -->
    <!-- HTML المعدل -->
    <div class="filter-group">
        <button class="filter-item active" id="showProfessionsBtn" onclick="linkSearchTypeToView('jobs')">
            عرض المهن <i class="fas fa-briefcase"></i>
        </button>
        <button class="filter-item" id="showMajorsBtn" onclick="linkSearchTypeToView('majors')">
            عرض التخصصات <i class="fas fa-graduation-cap"></i>
        </button>
    </div>

    <!-- فلترة المجالات -->
    <!-- فلترة المجالات المعدلة -->
<div class="filter-container">
    <h3 class="filter-title" style="text-align: center; margin-bottom: 1rem;">تصفية حسب المجال:</h3>
    <div class="field-filters" id="jobFieldsFilter">
        
        <!-- الطب -->
        <label class="field-filter-card">
            <input type="checkbox" value="الطب" onchange="onFilterChange()" data-filter="الطب">
            <div class="field-filter-inner">
                <div class="field-filter-front">
                    <i class="fas fa-hospital field-filter-icon"></i>
                    <span class="field-filter-name">الطب</span>
                </div>
                <div class="field-filter-back">
                    <i class="fas fa-hospital field-filter-icon"></i>
                    <span class="field-filter-name">الطب</span>
                </div>
            </div>
        </label>
        
        <!-- الهندسة -->
        <label class="field-filter-card">
            <input type="checkbox" value="الهندسة" onchange="onFilterChange()" data-filter="الهندسة">
            <div class="field-filter-inner">
                <div class="field-filter-front">
                    <i class="fas fa-cogs field-filter-icon"></i>
                    <span class="field-filter-name">الهندسة</span>
                </div>
                <div class="field-filter-back">
                    <i class="fas fa-cogs field-filter-icon"></i>
                    <span class="field-filter-name">الهندسة</span>
                </div>
            </div>
        </label>
        
        <!-- التكنولوجيا -->
        <label class="field-filter-card">
            <input type="checkbox" value="IT & AI" onchange="onFilterChange()" data-filter="IT & AI">
            <div class="field-filter-inner">
                <div class="field-filter-front">
                    <i class="fas fa-robot field-filter-icon"></i>
                    <span class="field-filter-name">IT & AI</span>
                </div>
                <div class="field-filter-back">
                    <i class="fas fa-robot field-filter-icon"></i>
                    <span class="field-filter-name">IT & AI</span>
                </div>
            </div>
        </label>
        
        <!-- العلوم -->
        <label class="field-filter-card">
            <input type="checkbox" value="العلوم" onchange="onFilterChange()" data-filter="العلوم">
            <div class="field-filter-inner">
                <div class="field-filter-front">
                    <i class="fas fa-flask field-filter-icon"></i>
                    <span class="field-filter-name">العلوم</span>
                </div>
                <div class="field-filter-back">
                    <i class="fas fa-flask field-filter-icon"></i>
                    <span class="field-filter-name">العلوم</span>
                </div>
            </div>
        </label>
        
        <!-- الأعمال -->
        <label class="field-filter-card">
            <input type="checkbox" value="الأعمال" onchange="onFilterChange()" data-filter="الأعمال">
            <div class="field-filter-inner">
                <div class="field-filter-front">
                    <i class="fas fa-chart-line field-filter-icon"></i>
                    <span class="field-filter-name">الأعمال</span>
                </div>
                <div class="field-filter-back">
                    <i class="fas fa-chart-line field-filter-icon"></i>
                    <span class="field-filter-name">الأعمال</span>
                </div>
            </div>
        </label>
        
        <!-- القانون -->
        <label class="field-filter-card">
            <input type="checkbox" value="القانون" onchange="onFilterChange()" data-filter="القانون">
            <div class="field-filter-inner">
                <div class="field-filter-front">
                    <i class="fas fa-gavel field-filter-icon"></i>
                    <span class="field-filter-name">القانون</span>
                </div>
                <div class="field-filter-back">
                    <i class="fas fa-gavel field-filter-icon"></i>
                    <span class="field-filter-name">القانون</span>
                </div>
            </div>
        </label>
        
        <!-- الفنون -->
        <label class="field-filter-card">
            <input type="checkbox" value="الفنون" onchange="onFilterChange()" data-filter="الفنون">
            <div class="field-filter-inner">
                <div class="field-filter-front">
                    <i class="fas fa-palette field-filter-icon"></i>
                    <span class="field-filter-name">الفنون</span>
                </div>
                <div class="field-filter-back">
                    <i class="fas fa-palette field-filter-icon"></i>
                    <span class="field-filter-name">الفنون</span>
                </div>
            </div>
        </label>
        
        <!-- التعليم -->
        <label class="field-filter-card">
            <input type="checkbox" value="اللغات" onchange="onFilterChange()" data-filter="اللغات">
            <div class="field-filter-inner">
                <div class="field-filter-front">
                    <i class="fas fa-book field-filter-icon"></i>
                    <span class="field-filter-name">اللغات</span>
                </div>
                <div class="field-filter-back">
                    <i class="fas fa-book field-filter-icon"></i>
                    <span class="field-filter-name">اللغات</span>
                </div>
            </div>
        </label>
        
        <!-- الزراعة -->
        <label class="field-filter-card">
            <input type="checkbox" value="الزراعة" onchange="onFilterChange()" data-filter="الزراعة">
            <div class="field-filter-inner">
                <div class="field-filter-front">
                    <i class="fas fa-leaf field-filter-icon"></i>
                    <span class="field-filter-name">الزراعة</span>
                </div>
                <div class="field-filter-back">
                    <i class="fas fa-leaf field-filter-icon"></i>
                    <span class="field-filter-name">الزراعة</span>
                </div>
            </div>
        </label>
        
        <!-- النقل -->
        <label class="field-filter-card">
            <input type="checkbox" value="النقل" onchange="onFilterChange()" data-filter="النقل">
            <div class="field-filter-inner">
                <div class="field-filter-front">
                    <i class="fas fa-truck field-filter-icon"></i>
                    <span class="field-filter-name">النقل</span>
                </div>
                <div class="field-filter-back">
                    <i class="fas fa-truck field-filter-icon"></i>
                    <span class="field-filter-name">النقل</span>
                </div>
            </div>
        </label>
        
        <!-- البناء -->
        <label class="field-filter-card">
            <input type="checkbox" value="البناء" onchange="onFilterChange()" data-filter="البناء">
            <div class="field-filter-inner">
                <div class="field-filter-front">
                    <i class="fas fa-hard-hat field-filter-icon"></i>
                    <span class="field-filter-name">البناء</span>
                </div>
                <div class="field-filter-back">
                    <i class="fas fa-hard-hat field-filter-icon"></i>
                    <span class="field-filter-name">البناء</span>
                </div>
            </div>
        </label>
        
        <!-- السياحة -->
        <label class="field-filter-card">
            <input type="checkbox" value="السياحة" onchange="onFilterChange()" data-filter="السياحة">
            <div class="field-filter-inner">
                <div class="field-filter-front">
                    <i class="fas fa-landmark field-filter-icon"></i>
                    <span class="field-filter-name">السياحة</span>
                </div>
                <div class="field-filter-back">
                    <i class="fas fa-landmark field-filter-icon"></i>
                    <span class="field-filter-name">السياحة</span>
                </div>
            </div>
        </label>
        
        <!-- الطاقة -->
        <label class="field-filter-card">
            <input type="checkbox" value="الطاقة" onchange="onFilterChange()" data-filter="الطاقة">
            <div class="field-filter-inner">
                <div class="field-filter-front">
                    <i class="fas fa-bolt field-filter-icon"></i>
                    <span class="field-filter-name">الطاقة</span>
                </div>
                <div class="field-filter-back">
                    <i class="fas fa-bolt field-filter-icon"></i>
                    <span class="field-filter-name">الطاقة</span>
                </div>
            </div>
        </label>
        
        <!-- الرياضة -->
        <label class="field-filter-card">
            <input type="checkbox" value="الرياضة" onchange="onFilterChange()" data-filter="الرياضة">
            <div class="field-filter-inner">
                <div class="field-filter-front">
                    <i class="fas fa-running field-filter-icon"></i>
                    <span class="field-filter-name">الرياضة</span>
                </div>
                <div class="field-filter-back">
                    <i class="fas fa-running field-filter-icon"></i>
                    <span class="field-filter-name">الرياضة</span>
                </div>
            </div>
        </label>
        
      
    </div>
    <button class="show-more-btn" id="showMoreFilters" onclick="toggleFilters()">
        <span>عرض المزيد</span>
        <i class="fas fa-chevron-down"></i>
    </button>
</div>

<div class="search-results-section" id="mainSearchResults">
    <h3 class="search-results-title">
    <i class="fas fa-search"></i>
                        نتائج البحث لـ "<span id="searchQueryText"></span>"
                        <button class="clear-search-btn" onclick="clearSearch()">
    <i class="fas fa-times"></i> مسح البحث
                        </button>
    </h3>
    </div>
    <!-- قسم المهن الأساسي -->
    <div class="professions-grid" id="professionsContainer">
    <!-- سيتم إضافة البطاقات هنا -->
    </div>
    <!-- قسم التخصصات الجامعية (مخفي افتراضياً) -->
    <div class="professions-grid" id="majorsContainer" style="display: none;"></div>
    <!-- سيتم إضافة التخصصات هنا -->
</section>
<!-- نافذة التفاصيل المنبثقة -->
<div class="modal" id="detailsModal">
    <div class="modal-content">
    <span class="close-btn" onclick="closeModal()">×</span>
    <div class="modal-header">
    <h2 id="modalTitle"></h2>
    <div class="category-tag" id="modalCategory"></div>
    </div>
    <div id="modalContent"></div>
    </div>
    </div>
<script>
    let currentSearchType = 'jobs'; // القيمة الافتراضية
    // بيانات المهن
    let majors = [];
    let professions = [];
    let bestProfessions = []; 
    let quizQuestions = []; // تعريف متغير فارغ سيتم ملؤه لاحقاً من الملف

document.addEventListener('DOMContentLoaded', function () {
    fetch('./jobs.json')
  .then(res => res.json())
  .then(data => {
    professions = data.professions;
    majors = data.majors;
    bestProfessions = data.bestProfessions;
    quizQuestions = data.quizQuestions;
    renderProfessions(professions);
    renderMajors(majors);
  })
  .catch(error => {
    console.error("فشل تحميل البيانات من jobs.json:", error);
  });

});
    // تعريف الماب (الربط) بين الفلاتر والمسميات
    const filterToCategoryMapping = {
    "الطب": ["الطب"],
    "الهندسة": ["الهندسة"],
    "IT & AI": ["IT", "AI"],
    "الأعمال": ["الأعمال"],
    "العلوم": ["الفيزياء", "الكيمياء", "علم الاحياء"],
    "القانون": ["القانون"],
    "الزراعة": ["الزراعة"],
    "اللغات": ["اللغات"],
    "النقل": ["النقل"],
    "الفنون": ["الفنون"],
    "السياحة": ["السياحة"],
    "علوم النفس": ["العلوم النفسية"],
    "البناء": ["البناء"],
    "الرياضة": ["الرياضة"],
    "الطاقة": ["الطاقة"]
    };
    
    // دالة تقوم بالربط حسب الفلتر
    function getCategoriesForFilter(filterName) {
    return filterToCategoryMapping[filterName] || [];
    }
    
    // مثال: كيف تستخدمها
    function filterProfessionsByFilterName(filterName) {
    const relatedCategories = getCategoriesForFilter(filterName);
    
    const filteredProfessions = professions.filter(profession =>
      relatedCategories.includes(profession.category)
    );
    
    // عرض النتائج
    renderProfessions(filteredProfessions);
    }
    function filterMajorsByFilterName(filterName) {
    const relatedFields = getCategoriesForFilter(filterName);
    
    const filteredMajors = majors.filter(major =>
      relatedFields.includes(major.field)
    );
    
    // عرض النتائج
    renderMajors(filteredMajors);
    }
    

    // تهيئة الصفحة عند التحميل
    document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('jobs').style.display = 'block';
        
       // تهيئة البيانات
        renderProfessions(professions);
        renderMajors(majors);
        document.querySelectorAll('input[type="checkbox"][data-filter]').forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                onFilterChange();
                // اجمع كل الفلاتر المختارة
                const selectedFilters = Array.from(document.querySelectorAll('input[type="checkbox"][data-filter]:checked'))
                .map(cb => cb.getAttribute('data-filter'));    
                if (selectedFilters.length > 0) {
                    // جلب جميع التصنيفات المرتبطة بكل الفلاتر المختارة
                    const allRelatedCategories = selectedFilters.flatMap(filter => getCategoriesForFilter(filter));
                    // فلترة المهن
                    const filteredProfessions = professions.filter(profession =>
                        allRelatedCategories.includes(profession.category)
                    );
                    renderProfessions(filteredProfessions);
                    // فلترة التخصصات
                    const filteredMajors = majors.filter(major =>
                        allRelatedCategories.includes(major.field)
                    );
                    renderMajors(filteredMajors);
                } else {
                    // لو ما في ولا فلتر محدد، اعرض كل شيء
                    renderProfessions(professions);
                    renderMajors(majors);
                }

            });
        });

        // تفعيل البحث
        document.getElementById('searchInput').addEventListener('input', function(e) { 
            // تصفير الفلاتر عند أول إدخال
            resetFilters();
            document.querySelector('.filter-container').style.display = 'none'; // إخفاء الفلاتر
            
            const currentSection = document.querySelector('.nav-link.active').getAttribute('href');
            if (currentSection !== '#jobs') {
                // السلوك الطبيعي للأقسام الأخرى
                searchResults.style.display = 'block';
                    document.getElementById('search-type').style.display = 'flex';
            }
            const rawValue = e.target.value; // e معرّفة الآن
            const query = (rawValue || "").trim(); // معالجة القيم الفارغة
            if (query === "") {
                clearSearch();
                return;
            }
            
            const results = performSearch(query, currentSearchType);
            displaySearchResults(results);
        });
        initSearch();
        initCompareSearch();
        setCompareType('jobs');
        // تفعيل الفلتر الافتراضي إذا كان القسم النشط هو Best Jobs
        if (window.location.hash === '#best-jobs') {
            activeFilter = 'best';
            const bestFilterBtn = document.querySelector('#best-jobs .filter-item[data-filter="best"]');
            if (bestFilterBtn) document.getElementById('showProfessionsBtn').classList.add('active');
            applyFilters();
        }
        // تفعيل الفلتر الافتراضي إذا كان القسم النشط هو Best Jobs
        if (window.location.hash === '#compare') {
            document.getElementById('compareJobsBtn').classList.add('.nav-link.active')
            setCompareType();
        }
    });
    
    // التحكم في عرض الأقسام عند النقر على الروابط
    // التحكم في عرض الأقسام عند النقر على الروابط
    document.querySelectorAll('.nav-link').forEach(link => {
    link.addEventListener('click', function(e) {
    e.preventDefault();
    // إخفاء جميع الأقسام
    document.querySelectorAll('section').forEach(section => {
        section.style.display = 'none';
    });
    // إظهار الهيدر الأزرق في جميع الأقسام بما فيها Best Jobs
    document.querySelector('.header').style.display = 'block';
    // إزالة الفئة النشطة من جميع روابط التنقل
    document.querySelectorAll('.nav-link').forEach(navLink => {
        navLink.classList.remove('active');
    });
    
    // إضافة الفئة النشطة للرابط الذي ضغط عليه المستخدم
    this.classList.add('active');
    // عرض القسم المحدد
    const targetId = this.getAttribute('href').substring(1);
    document.getElementById(targetId).style.display = 'block';
        clearSearch() ;

    // إعادة تعيين الفلاتر والأزرار الافتراضية بناءً على القسم
    if (targetId === 'best-jobs') {
        // تفعيل زر "مهن ذهبية" افتراضياً
        activeFilter = 'best';
        const bestFilterBtn = document.querySelector('#best-jobs .filter-item[data-filter="best"]');
        if (bestFilterBtn) {
            // إضافة الكلاس active لزر "مهن ذهبية"
            bestFilterBtn.classList.add('active');
        }
        setTimeout(() => {
            applyFilters();
        }, 0);
    } else if (targetId === 'compare') {
        // تفعيل زر "مقارنة المهن" افتراضياً
        setCompareType('jobs');
        const compareJobsBtn = document.getElementById('compareJobsBtn');
        if (compareJobsBtn) {
            // إزالة الكلاس active من زر مقارنة التخصصات
            document.getElementById('compareMajorsBtn').classList.remove('active');
            // إضافة الكلاس active لزر مقارنة المهن
            compareJobsBtn.classList.add('active');
        }

    } else if (targetId === 'jobs') {
    }
    resetFilters();
    
        // عند العودة لقسم المهن/التخصصات
        if (targetId === 'jobs') {
            const searchQuery = document.getElementById('searchInput').value.trim();
            
    
    // 1. الحصول على النتائج مع ضمان أنها مصفوفة
    let results = [];
    if (searchQuery) {
        try {
            results = performSearch(searchQuery, currentSearchType) || [];
        } catch (e) {
            console.error('Search error:', e);
            results = [];
        }
    } else {
        results = currentSearchType === 'jobs' 
            ? Array.from(professions) // نسخ المصفوفة الأصلية
            : Array.from(majors);
    }

    // 2. التحقق النهائي من نوع المصفوفة
    if (!Array.isArray(results)) {
        results = [];
    }

    // 3. العرض حسب النوع مع تحقق إضافي
    if (currentSearchType === 'jobs') {
        if (typeof renderProfessions === 'function') {
            renderProfessions(results);
        }
    } else {
        if (typeof renderMajors === 'function') {
            renderMajors(results);
        }
    }

    // 4. إدارة واجهة النتائج
    const mainSearchResults = document.getElementById('mainSearchResults');
    if (mainSearchResults) {
        mainSearchResults.style.display = searchQuery ? 'block' : 'none';
        const queryTextEl = document.getElementById('searchQueryText');
        if (queryTextEl) {
            queryTextEl.textContent = searchQuery;
        }
    }
    // 5. معالجة الفلاتر بأمان
    if (typeof onFilterChange === 'function') {
        try {
            onFilterChange();
        } catch (filterError) {
            console.error('Filter error:', filterError);
        }
    }
        }
    
    });
    
    });
    
    // تهيئة وظيفة البحث
    function initSearch() {
        const searchResults = document.getElementById('searchResults');
        const mainSearchResults = document.getElementById('mainSearchResults');
        
        const searchInput = document.getElementById('searchInput');
    let timeoutId;

    searchInput.addEventListener('input', function(e) {
        clearTimeout(timeoutId); // إلغاء أي تأخير سابق
        const searchInput = document.getElementById('searchInput');
        // تنفيذ البحث فورًا مع كل تغيير
        const query = e.target.value.trim();
        
        if (query === '') {
            clearSearch();
            return;
        }

        // إجراء البحث مع تأخير بسيط لتحسين الأداء
        timeoutId = setTimeout(() => {
            const results = performSearch(query, currentSearchType);
            displaySearchResults(results);
        }, 300);
    });
        searchInput.addEventListener('input', (e) => {
            const searchInput = document.getElementById('searchInput');
            clearTimeout(timeoutId);
            timeoutId = setTimeout(() => {
                const query = e.target.value.trim();
                if (query === '') {
                    clearSearch();
                    return;
                }
                const results = performSearch(query, currentSearchType);
                displaySearchResults(results);
            }); // تأخير 300 مللي ثانية
        });
        
// 1. إخفاء الكيبورد عند الضغط على Enter
searchInput.addEventListener('keydown', function(e) {
    if (e.key === 'Enter' || e.keyCode === 13) {
        this.blur(); // إزالة التركيز من الحقل
        document.activeElement.blur(); // تأكيد إخفاء الكيبورد
        e.preventDefault(); // منع أي سلوك افتراضي
    }
});
        searchInput.addEventListener('input', function() {
            const searchInput = document.getElementById('searchInput');
            const queryLower = this.value.trim().toLowerCase();
            const results = performSearch(queryLower, currentSearchType);
            // نتائج البحث المنسدلة
            searchResults.style.display = 'block';
            // نتائج البحث الرئيسية
            // التحكم في ظهور قسم النتائج الرئيسي
            mainSearchResults.style.display = (results.professions.length + results.majors.length) > 0 ? 'block' : 'none';
        });

    }
    // دالة لعرض نتائج البحث الرئيسية
    function renderSearchResults(results) {
        const container = document.getElementById('searchResultsContainer');
        container.innerHTML = '';
        
        if (results.length === 0) {
            container.innerHTML = '<p style="text-align: center; color: #666;">لا توجد نتائج مطابقة</p>';
            return;
        }
        else{
            results.forEach(profession => {
                const card = document.createElement('div');
                card.className = 'profession-card';
                card.innerHTML = `
                    <div class="category-tag">${profession.category}</div>
                    <h3>${profession.title}</h3>
                    <p>${profession.summarize}</p>
                    <div class="salary-info">
                        <span>الراتب السنوي:</span>
                        <span class="highlight">$${profession.avgSalary}</span>
                    </div>
                `;
                card.addEventListener('click', () => showDetails(profession));
                container.appendChild(card);
            });
        }
    }
    
    // دالة لمسح البحث
    function clearSearch() {
        // 1. مسح نص البحث
        const mainSearchResults = document.getElementById('mainSearchResults');
        const navbarHeight = document.querySelector('.navbar').offsetHeight;
        const searchInput = document.getElementById('searchInput');
        searchInput.value = '';
        searchResults.innerHTML = '';
    professionsContainer.innerHTML = '';
    majorsContainer.innerHTML = '';
    const container = currentSearchType === 'jobs' ? 
        document.getElementById('professionsContainer') : 
        document.getElementById('majorsContainer');
    
    container.style.display = 'grid'; // إعادة عرض البطاقات عند الفراغ
    renderProfessions(professions); // أو renderMajors حسب النوع
        document.getElementById('searchResults').style.display = 'none';
        // 2. إخفاء نتائج البحث
        document.getElementById('searchResults').style.display = 'none';
        document.getElementById('mainSearchResults').style.display = 'none';
        resetFilters();
    // التمرير للأعلى مع احتساب ارتفاع الشريط العلوي
    window.scrollTo({
            top: mainSearchResults.offsetTop - navbarHeight - 30,
            behavior: 'smooth'
        });
        if (currentSearchType === 'majors') {
            renderMajors(majors); // عرض التخصصات الأصلية
        }
        // 3. إعادة العرض الأصلي
        if (currentSearchType === 'jobs') {
            // إظهار بطاقات المهن
            document.getElementById('professionsContainer').style.display = 'grid';
            renderProfessions(professions);
        } else {
            // إظهار بطاقات التخصصات
            document.getElementById('majorsContainer').style.display = 'grid';
            renderMajors(majors);
        }
        document.querySelector('.filter-container').style.display = 'block'; // إظهار الفلاتر بعد مسح البحث
    }
    // دالة لعرض تفاصيل المهنة من نتائج البحث
    function showProfessionDetails(title) {
        const profession = professions.find(p => p.title === title);
        if (profession) showDetails(profession);
    }
    // دالة للانتقال إلى التخصص الجامعي
    function navigateToMajor(majorName) {
        // إظهار قسم الوظائف والتخصصات
        document.querySelectorAll('section').forEach(section => {
            section.style.display = 'none';
        });
        
        document.getElementById('jobs').style.display = 'block';
        
        // عرض قسم التخصصات
        showMajorsView();
        
        // تحديث الروابط النشطة
        document.querySelectorAll('.nav-link').forEach(navLink => {
            navLink.classList.remove('active');
        });
        
        document.querySelector('.nav-link[href="#jobs"]').classList.add('active');
        
        // تصفير نتائج البحث
        document.getElementById('searchInput').value = '';
        document.getElementById('searchResults').style.display = 'none';
    }
    
    // دالة لعرض المهن
    function renderProfessions(professionsArray) {
        const container = document.getElementById('professionsContainer');
        container.innerHTML = '';
    
        professionsArray.forEach(profession => {
            const card = document.createElement('div');
            card.className = 'profession-card';
            card.innerHTML = `
                <div class="category-tag">${profession.category}</div>
                <h3>${profession.title}</h3>
                <p>${profession.summarize}</p>
                <div class="salary-info">
                    <span>الراتب السنوي:</span>
                    <span class="highlight">$${profession.avgSalary}</span>
                </div>
            `;
            card.addEventListener('click', () => showDetails(profession));
            container.appendChild(card);
        });
    }
    
    // دالة لعرض التخصصات الجامعية
    // دالة عرض التخصصات المعدلة
    
    function renderMajors(majorsList) {
        const container = document.getElementById("majorsContainer");
        container.innerHTML = "";
    
        majorsList.forEach(major => {
            const card = document.createElement("div");
            card.className = "profession-card";
            
            card.innerHTML = `
                <div class="category-tag">${major.field}</div>
                <h3>${major.name}</h3>
                <p style="margin: 1rem 0;">${major.summarize}</p>
                <div class="salary-info">
                    <span>السنوات الدراسية :</span>
                    <span class="highlight">${major.duration}</span>
                </div>
            `;
            
            card.addEventListener('click', () => showMajorDetails(major));
            container.appendChild(card);
        });
    }
    
    // دالة فلترة المهن
    function filterProfessions() {
        const checkboxes = document.querySelectorAll('#jobs input[type="checkbox"]');
        const selectedCategories = Array.from(checkboxes)
            .filter(checkbox => checkbox.checked)
            .map(checkbox => checkbox.value);
        
        const searchInput = document.getElementById('searchInput');
        const isSearchActive = searchInput.value.trim().length > 0;
        
        if (isSearchActive) {
            // إذا كان البحث نشطًا، نطبق الفلترة على نتائج البحث
            const query = searchInput.value.trim().toLowerCase();
            let filteredProfessions = professions.filter(prof => 
                (prof.category.toLowerCase().includes(query))
            );
            
            if (selectedCategories.length > 0) {
                filteredProfessions = filteredProfessions.filter(profession => 
                    selectedCategories.includes(profession.category)
                );
            }
            
            renderSearchResults(filteredProfessions);
        } else {
            // إذا لم يكن البحث نشطًا، نطبق الفلترة على القائمة الكاملة
            if (selectedCategories.length === 0) {
                renderProfessions(professions);
            } else {
                const filtered = professions.filter(profession => 
                    selectedCategories.includes(profession.category)
                );
                renderProfessions(filtered);
            }
        }
    }
    
    // دالة فلترة التخصصات الجامعية
    function filterMajors() {
        const checkboxes = document.querySelectorAll('#jobFieldsFilter input[type="checkbox"]');
        const selectedFields = Array.from(checkboxes)
            .filter(checkbox => checkbox.checked)
            .map(checkbox => checkbox.value);
        
        if (selectedFields.length === 0) {
            renderMajors(majors);
        } else {
            const filteredMajors = majors.filter(major => 
                selectedFields.includes(major.field)
            );
            renderMajors(filteredMajors);
        }
    }
    
    // دالة لعرض تفاصيل المهنة
    function showDetails(profession) {
        const modal = document.getElementById('detailsModal');
        const title = document.getElementById('modalTitle');
        const content = document.getElementById('modalContent');
        const category = document.getElementById('modalCategory');
    
        title.textContent = profession.title;
        category.textContent = profession.category;
        content.innerHTML = `
            <div class="stats-grid">
                <div class="stat-item">
                    <span>فرص العمل</span>
                    ${profession.jobo}
                </div>
                <div class="stat-item">
                    <span>السنوات الدراسية</span>
                    ${profession.experience}
                </div>
                <div class="stat-item">
                    <span>الطلب</span>
                    <span style="color: ${getDemandColor(profession.demand)}">${profession.demand}</span>
                </div>
                <div class="stat-item">
                    <span>الراتب المتوسط</span>
                    $${profession.avgSalary}
                </div>
            </div>
            <h3 style="margin: 1.5rem 0; color: var(--primary);">الوصف الوظيفي</h3>
            <p>${profession.description}</p>
            ${profession.skills ? `
            <h3 style="margin: 1.5rem 0; color: var(--primary);">المهارات المطلوبة</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                ${profession.skills.map(skill => `
                    <span style="background: rgba(58,175,169,0.1); color: var(--secondary); padding: 0.3rem 0.8rem; border-radius: 20px; font-size: 0.9rem;">
                        ${skill}
                    </span>
                `).join('')}
            </div>
            ` : ''}
        `;
    
        modal.style.display = 'flex';
        document.getElementById('searchResults').style.display = 'none';
    }
    
    // دالة للحصول على لون حسب مستوى الطلب
    function getDemandColor(demand) {
        const colors = {
            'مرتفع جدًا': '#2ecc71',
            'مرتفع': '#3498db',
            'متوسط': '#f1c40f',
            'منخفض': '#e74c3c'
        };
        return colors[demand] || '#333';
    }
    
    // إغلاق النافذة المنبثقة عند النقر خارجها
    window.onclick = function(event) {
        const modal = document.getElementById('detailsModal');
        if (event.target === modal) {
            modal.style.display = 'none';
        }
    }
    // دالة لإغلاق النافذة المنبثقة
    function closeModal() {
        document.getElementById('detailsModal').style.display = 'none';
    
    }
    
    
    
    // نظام الفلترة
    let activeFilter = null;
    const demandOrder = ['مرتفع جدًا', 'مرتفع', 'متوسط', 'منخفض'];
    
    function toggleFilter(element, filterType) {
        const prevActive = document.querySelector('#best-jobs .filter-item.active');
        
        if (prevActive) {
            prevActive.classList.remove('active');
        }
        
        if (activeFilter === filterType) {
            activeFilter = null;
            element.classList.remove('active');
        } else {
            activeFilter = filterType;
            element.classList.add('active');
        }
        
        applyFilters();
    }
    
    function applyFilters() {
        let filteredJobs = [...bestProfessions];
        
        // تطبيق الفلتر النشط إذا كان موجوداً
        if (activeFilter) {
            filteredJobs = filteredJobs.filter(job => job.jobType === activeFilter);
        } else {
            // إذا لم يكن هناك فلتر نشط، نطبق الفلتر الافتراضي (أفضل المهن)
            activeFilter = 'best';
            const bestFilterBtn = document.querySelector('#best-jobs .filter-item[data-filter="best"]');
            if (bestFilterBtn) bestFilterBtn.classList.add('active');
            filteredJobs = filteredJobs.filter(job => job.jobType === 'best');
        }
        
        // ترتيب النتائج حسب نوع الفلتر
        switch(activeFilter) {
            case 'profit':
                filteredJobs.sort((a, b) => 
                    parseInt(b.avgSalary.replace(/\D/g,'')) - parseInt(a.avgSalary.replace(/\D/g,'')));
                break;
            case 'demand':
                filteredJobs.sort((a, b) => 
                    demandOrder.indexOf(b.demand) - demandOrder.indexOf(a.demand));
                break;
            case 'entry':
                filteredJobs.sort((a, b) => 
                    parseInt(a.experience) - parseInt(b.experience));
                break;
            case 'opportunities':
                filteredJobs.sort((a, b) => 
                    parseInt(b.growthRate) - parseInt(a.growthRate));
                break;
            default: // الحالة الافتراضية (أفضل المهن)
                filteredJobs.sort((a, b) => 
                    (parseInt(b.growthRate) * 2 + parseInt(b.avgSalary.replace(/\D/g,''))/10000) -
                    (parseInt(a.growthRate) * 2 + parseInt(a.avgSalary.replace(/\D/g,''))/10000)
                );
        }
        
        // عرض النتائج المصفاة
        renderBestJobs(filteredJobs);
    }
    // تعديل دالة renderMajors لعرض البطاقات بنفس نمط المهن
    
    // دالة عرض Best Jobs
    function renderBestJobs(jobs) {
        const container = document.getElementById('bestJobsContainer');
        container.innerHTML = '';
    
        jobs.forEach(job => {
            const card = document.createElement('div');
            card.className = 'profession-card';
            card.innerHTML = `
                <h3>${job.title}</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span>متوسط الراتب</span>
                        <div class="highlight">$${job.avgSalary}</div>
                    </div>
                    <div class="stat-item">
                        <span>السنوات الدراسية</span>
                        <div class="highlight">${job.experience}</div>
                    </div>
                </div>
                <div class="demand-indicator">
                    <span>معدل الطلب:</span>
                    <div class="demand-bar">
                        <div class="demand-fill" style="width: ${getDemandWidth(job.demand)}"></div>
                    </div>
                    <span class="growth-rate">
                        <i class="fas fa-chart-line"></i>
                        ${job.growthRate} نمو متوقع
                    </span>
                </div>
                <h4 class="specialties-title">المهارات المطلوبة:</h4>
                <ul class="specialties-list">
                    ${job.requiredSpecialties.map(spec => `<li>${spec}</li>`).join('')}
                </ul>
                <p class="job-description">${job.description}</p>
            `;
            container.appendChild(card);
        });
    }
    
    // دالة مساعدة لتحديد عرض شريط الطلب
    function getDemandWidth(demand) {
        const demandLevels = {
            'مرتفع جدًا': '95%',
            'مرتفع': '75%',
            'متوسط': '50%',
            'منخفض': '25%'
        };
        return demandLevels[demand] || '50%';
    }
    
    // متغيرات المقارنة
    let compareType = 'jobs'; // 'jobs' أو 'majors'
    let selectedItem1 = null;
    let selectedItem2 = null;
    
    // تعيين نوع المقارنة
    // تحسين وظيفة setCompareType
function setCompareType(type) {
    compareType = type;
    
    // تحديث واجهة المستخدم مع التحقق من وجود العناصر
    const jobsBtn = document.getElementById('compareJobs');
    const majorsBtn = document.getElementById('compareMajors');
    
    if (jobsBtn && majorsBtn) {
        if (type === 'jobs') {
            jobsBtn.classList.add('active');
            majorsBtn.classList.remove('active');
            
            document.querySelectorAll('.compare-search input').forEach(input => {
                input.placeholder = "ابحث عن مهنة...";
            });
        } else {
            majorsBtn.classList.add('active');
            jobsBtn.classList.remove('active');
            document.querySelectorAll('.compare-search input').forEach(input => {
                input.placeholder = "ابحث عن تخصص...";
            });
        }
    } else {
        console.error('عناصر المقارنة غير موجودة في DOM');
    }
    
    resetcom();
}
function resetcom() {
    // إفراغ حقول البحث عند التبديل
    document.getElementById('compareInput1').value = '';
    document.getElementById('compareInput2').value = '';
    document.getElementById('compareResults1').innerHTML = '';
    document.getElementById('compareResults2').innerHTML = '';
    
    // إخفاء نتائج المقارنة السابقة إن وجدت
    document.getElementById('compareResults').style.display = 'none';
    document.getElementById('compareControls').style.display = 'none';
    selectedItem1 = null ;
    selectedItem2 = null ;
}
// تحسين وظيفة compareItems

    
    // تهيئة البحث في قسم المقارنة
    function initCompareSearch() {
        const input1 = document.getElementById('compareInput1');
        const input2 = document.getElementById('compareInput2');
        const results1 = document.getElementById('compareResults1');
        const results2 = document.getElementById('compareResults2');
        
        // البحث للحقل الأول
        input1.addEventListener('input', function() {
            const query = this.value.trim().toLowerCase();
            showCompareResults(results1, query, 1);
        });
        
        // البحث للحقل الثاني
        input2.addEventListener('input', function() {
            const query = this.value.trim().toLowerCase();
            showCompareResults(results2, query, 2);
        });
        
        // إخفاء نتائج البحث عند النقر خارجها
        document.addEventListener('click', function(e) {
            if (!input1.contains(e.target)) results1.style.display = 'none';
            if (!input2.contains(e.target)) results2.style.display = 'none';
            if (!e.target.closest('.search-container')) {
    document.getElementById('searchResults').style.display = 'none';
    }
        });
    }
    
    // عرض نتائج البحث في قسم المقارنة
    function showCompareResults(resultsContainer, query, inputNumber) {
        if (query.length === 0) {
            resultsContainer.style.display = 'none';
            return;
        }
        
        let results = [];
        if (compareType === 'jobs') {
            results = professions.filter(prof => 
                prof.title.toLowerCase().includes(query) || 
                prof.description.toLowerCase().includes(query)
            );
        } else {
            results = majors.filter(major => 
                major.name.toLowerCase().includes(query) || 
                major.description.toLowerCase().includes(query)
            );
        }
        
        if (results.length === 0) {
            resultsContainer.innerHTML = '<div class="no-results">لا توجد نتائج مطابقة</div>';
            resultsContainer.style.display = 'block';
            return;
        }
        
        let html = '';
        results.forEach(item => {
            const title = compareType === 'jobs' ? item.title : item.name;
            const desc = compareType === 'jobs' ? item.description : item.description;
            const type = compareType === 'jobs' ? item.jobo : item.jobo;
            
            html += `
                <div class="search-result-item" onclick="selectCompareItem(${inputNumber}, '${title.replace(/'/g, "\\'")}')">
                    <h4>${title}</h4>
                    <p>${desc.substring(0, 60)}...</p>
                    <small style="color: var(--secondary);">${type}</small>
                </div>
            `;
        });
        
        resultsContainer.innerHTML = html;
        resultsContainer.style.display = 'block';
    }
    
    // اختيار عنصر للمقارنة
    function selectCompareItem(inputNumber, title) {
        const inputElement = inputNumber === 1 ? 
            document.getElementById('compareInput1') : 
            document.getElementById('compareInput2');
        
        const resultsContainer = inputNumber === 1 ? 
            document.getElementById('compareResults1') : 
            document.getElementById('compareResults2');
        
        inputElement.value = title;
        resultsContainer.style.display = 'none';
        
        if (compareType === 'jobs') {
            const item = professions.find(p => p.title === title);
            if (inputNumber === 1) selectedItem1 = item;
            else selectedItem2 = item;
        } else {
            const item = majors.find(m => m.name === title);
            if (inputNumber === 1) selectedItem1 = item;
            else selectedItem2 = item;
        }
    }
    
    // تنفيذ المقارنة
    function compareItems() {
        if (!selectedItem1 || !selectedItem2) {
            alert('الرجاء اختيار العنصرين للمقارنة');
            return;
        }
        if (selectedItem1 == selectedItem2) {
            alert('لا يمكن مقارنة العنصر مع نفسه');
            return;
        }
        const resultsDiv = document.getElementById('compareResults');
        const tableBody = document.getElementById('compareTableBody');
        const header1 = document.getElementById('compareHeader1');
        const header2 = document.getElementById('compareHeader2');
        
        header1.innerHTML = compareType === 'jobs' ? selectedItem1.title : selectedItem1.name;
        header2.innerHTML = compareType === 'jobs' ? selectedItem2.title : selectedItem2.name;
            // جعل العناوين قابلة للنقر
        header1.style.cursor = 'pointer';
        header2.style.cursor = 'pointer';
        
        header1.onclick = () => {
            if (compareType === 'jobs') {
                showDetails(selectedItem1);
            } else {
                showMajorDetails(selectedItem1);
            }
        };
        
        header2.onclick = () => {
            if (compareType === 'jobs') {
                showDetails(selectedItem2);
            } else {
                showMajorDetails(selectedItem2);
            }
        };

        // تعيين العناوين
            
        // إنشاء جدول المقارنة
        let tableHTML = '';
        
        if (compareType === 'jobs') {
            // مقارنة المهن
            tableHTML = `
                <tr>
                    <td>ملخص المهنة</td>
                    <td>${selectedItem1.summarize}</td>
                    <td>${selectedItem2.summarize}</td>
                </tr>
                <tr>
                    <td>فرص العمل</td>
                    <td>${selectedItem1.jobo}</td>
                    <td>${selectedItem2.jobo}</td>
                </tr>
                <tr>
                    <td>الراتب السنوي</td>
                    <td>$${selectedItem1.avgSalary}</td>
                    <td>$${selectedItem2.avgSalary}</td>
                </tr>
                <tr>
                    <td>السنوات الدراسية المطلوبة</td>
                    <td>${selectedItem1.experience}</td>
                    <td>${selectedItem2.experience}</td>
                </tr>
                <tr>
                    <td>مستوى الطلب</td>
                    <td>${selectedItem1.demand}</td>
                    <td>${selectedItem2.demand}</td>
                </tr>
            `;
            
            // تحديد الأفضل في كل فئة
            highlightBest(tableBody, [3, 4]); // أعمدة الراتب والطلب
        } else {
            // مقارنة التخصصات
            tableHTML = `
                <tr>
                    <td>ملخص التخصص</td>
                    <td>${selectedItem1.summarize}</td>
                    <td>${selectedItem2.summarize}</td>
                </tr>
                <tr>
                    <td>الطلب</td>
                    <td>${selectedItem1.jobo}</td>
                    <td>${selectedItem2.jobo}</td>
                </tr>
                <tr>
                    <td>متوسط المجموع الادني في الثانوية</td>
                    <td>${selectedItem1.jobs}</td>
                    <td>${selectedItem2.jobs}</td>
                </tr>
                <tr>
                    <td>السنوات الدرسية</td>
                    <td>${selectedItem1.duration}</td>
                    <td>${selectedItem2.duration}</td>
                </tr>
               <tr>
                    <td>المسار</td>
                    <td>${selectedItem1.mid}</td>
                    <td>${selectedItem2.mid}</td>
                </tr>
            `;
            
            // تحديد الأفضل في كل فئة
            highlightBest(tableBody, [2]); // عمود عدد الوظائف
        }
        
        tableBody.innerHTML = tableHTML;
        
        resultsDiv.style.display = 'block';
        document.getElementById('compareControls').style.display = 'block';
        // التمرير إلى نتائج المقارنة
        resultsDiv.scrollIntoView({ behavior: 'smooth' });
    }
    
    // تحديد الأفضل في كل فئة
    function highlightBest(tableBody, columnsToCompare) {
        const rows = tableBody.querySelectorAll('tr');
        
        columnsToCompare.forEach(col => {
            if (col >= rows.length) return;
            
            const cells = rows[col].querySelectorAll('td');
            const value1 = cells[1].textContent;
            const value2 = cells[2].textContent;
            
            // مقارنة الراتب (تحويل إلى أرقام)
            if (col === 3) {
                const salary1 = parseInt(value1.replace(/[^0-9]/g, '').split('-')[0]);
                const salary2 = parseInt(value2.replace(/[^0-9]/g, '').split('-')[0]);
                
                if (salary1 > salary2) {
                    cells[1].classList.add('compare-winner');
                } else if (salary2 > salary1) {
                    cells[2].classList.add('compare-winner');
                }
            }
            // مقارنة الطلب
            else if (col === 4) {
                const demandOrder = ['مرتفع جدًا', 'مرتفع', 'متوسط', 'منخفض'];
                const demand1 = demandOrder.indexOf(value1);
                const demand2 = demandOrder.indexOf(value2);
                
                if (demand1 < demand2) {
                    cells[1].classList.add('compare-winner');
                } else if (demand2 < demand1) {
                    cells[2].classList.add('compare-winner');
                }
            }
            // مقارنة عدد الوظائف (للتخصصات)
            else if (col === 2) {
                const num1 = parseInt(value1);
                const num2 = parseInt(value2);
                
                if (num1 > num2) {
                    cells[1].classList.add('compare-winner');
                } else if (num2 > num1) {
                    cells[2].classList.add('compare-winner');
                }
            }
        });
    }
    
    // متغيرات الاختبار المهني
    let currentQuestion = 0;
    let quizAnswers = [];
    // بدء الاختبار
    function startQuiz() {
      currentQuestion = 0;
    quizAnswers = [];
    // 1. إخفاء قسم البداية فوراً
    document.getElementById('quizWelcome').style.display = 'none';
    
    // 2. إظهار قسم الأسئلة
    const quizQuestions = document.getElementById('quizQuestions');
    quizQuestions.style.display = 'block';
    
    // 3. استخدام scrollIntoView مع خيارات مخصصة
    setTimeout(() => {
    quizQuestions.scrollIntoView({
    behavior: 'smooth',
    block: 'start',
    inline: 'nearest'
    });
    }, 50);
    
    // 4. تهيئة الأسئلة
    currentQuestion = 0;
    quizAnswers = [];
    showQuestion();
    }
    
    // عرض السؤال الحالي
    // عرض السؤال الحالي
    // عرض السؤال الحالي
    function showQuestion() {
        const question = quizQuestions[currentQuestion];
        
        // تحديث نص السؤال مع العداد المنسق
        document.getElementById('currentQuestion').innerHTML = `
            <div style="
                background: rgba(15, 260, 200, 0.1);
                color: var(--primary);
                padding: 0.5rem 1rem;
                border-radius: 20px;
                display: inline-block;
                margin-bottom: 1rem;
                font-size: 0.85rem;
                font-weight: 500;
            ">
                السؤال <span style="font-weight: 700;">${currentQuestion + 1}</span> 
                من <span style="font-weight: 700;">${quizQuestions.length}</span>
            </div>
            <div style="margin-top: 0.5rem; font-size: 1.1rem;">${question.question}</div>
        `;
        
        const optionsContainer = document.getElementById('quizOptions');
        optionsContainer.innerHTML = '';
        
        question.options.forEach((option, index) => {
            const optionElement = document.createElement('div');
            optionElement.className = 'quiz-option';
            optionElement.innerHTML = `
                <div class="option-number" style="
                    background: var(--secondary);
                    color: white;
                ">${index + 1}</div>
                <div>${option.text}</div>
            `;
            optionElement.addEventListener('click', () => selectAnswer(option.value));
            optionsContainer.appendChild(optionElement);
        });
        
        // التحكم في ظهور زر السؤال السابق
        const prevBtn = document.getElementById('prevQuestionBtn');
        prevBtn.style.display = currentQuestion === 0 ? 'none' : 'flex';
        
        // تحديث شريط التقدم بلون الموقع الأساسي
        const progress = ((currentQuestion) / quizQuestions.length) * 100;
        const progressBar = document.getElementById('quizProgressBar');
        progressBar.style.width = `${progress}%`;
        progressBar.style.backgroundColor = 'var(--primary)';
    }
    // اختيار إجابة
    function selectAnswer(answer) {
        // إذا كان هناك إجابة مسجلة لهذا السؤال، استبدلها
        if (quizAnswers[currentQuestion] !== undefined) {
            quizAnswers[currentQuestion] = answer;
        } else {
            quizAnswers.push(answer);
        }
        
        // إزالة التحديد من كل الخيارات
        document.querySelectorAll('.quiz-option').forEach(opt => 
            opt.classList.remove('selected'));
        
        // إضافة التحديد للخيار المختار
        event.currentTarget.classList.add('selected');
        
        if (currentQuestion < quizQuestions.length - 1) {
            currentQuestion++;
            showQuestion();
        } else {
            showResults();
        }
    }
    
    // عرض النتائج
    function showResults() {
        document.getElementById('quizQuestions').style.display = 'none';
        document.getElementById('quizResults').style.display = 'block';
        
        // حساب النتائج بناءً على الإجابات
        const matchedProfessions = calculateMatches();
        const matchesContainer = document.getElementById('careerMatches');
        matchesContainer.innerHTML = '';
        
        if (matchedProfessions.length === 0) {
            matchesContainer.innerHTML = '<p>لا توجد مهن مطابقة لاختياراتك. حاول تعديل بعض الإجابات.</p>';
            return;
        }
        
        matchedProfessions.forEach(prof => {
            const matchElement = document.createElement('div');
            matchElement.className = 'career-match';
            matchElement.innerHTML = `
                <h4>${prof.title}</h4>
                <div class="match-percent">${prof.matchPercent}%</div>
                <p><strong>فرص العمل :</strong> ${prof.jobo}</p>
                <p><strong>الراتب المتوسط:</strong> $${prof.avgSalary}</p>
                <p><strong>الطلب:</strong> ${prof.demand}</p>
            `;
            matchElement.addEventListener('click', () => showDetails(prof));
            matchesContainer.appendChild(matchElement);
        });
    }
    
   //الاختبار 
    
    function calculateCompatibility(prof, prefs) {

}
function calculateMatches() {
    const preferences = {
        salary: quizAnswers[0], // السؤال الأول عن الراتب
        field: quizAnswers[1],  // السؤال الثاني عن المجال
        skills: quizAnswers[2], // السؤال الثالث عن المهارات
        experience: quizAnswers[3], // السؤال الرابع عن الخبرة
        workStyle: quizAnswers[4], // السؤال الخامس عن نمط العمل
        environment: quizAnswers[5], // السؤال السادس عن بيئة العمل
        travel: quizAnswers[6], // السؤال السابع عن السفر
        workNature: quizAnswers[7], // السؤال الثامن عن طبيعة العمل
        socialInteraction: quizAnswers[8], // السؤال التاسع عن التفاعل الاجتماعي
        workLifeBalance: quizAnswers[9], // السؤال العاشر عن التوازن
        learningStyle: quizAnswers[10], // السؤال الحادي عشر عن أسلوب التعلم
        stressLevel: quizAnswers[11], // السؤال الثاني عشر عن مستوى الضغط
        careerGrowth: quizAnswers[12], // السؤال الثالث عشر عن التطور الوظيفي
        creativity: quizAnswers[13], // السؤال الرابع عشر عن الإبداع
        tasks: quizAnswers[14], // السؤال الخامس عشر عن المهام
        priorities: quizAnswers[15], // السؤال السادس عشر عن الأولويات
        leadership: quizAnswers[16], // السؤال السابع عشر عن القيادة
        decisionMaking: quizAnswers[17], // السؤال الثامن عشر عن اتخاذ القرارات
        responsibility: quizAnswers[18] // السؤال التاسع عشر عن المسؤولية
    };

    // حساب التوافق لكل مهنة
    const matchedProfessions = professions.map(profession => {
        let score = 0;
        
        // التوافق مع الراتب
        if (preferences.salary === 'high' && profession.avgSalary.includes('000')) {
            score += 20;
        } else if (preferences.salary === 'medium' && profession.avgSalary.includes('000')) {
            score += 15;
        } else if (preferences.salary === 'low' && !profession.avgSalary.includes('000')) {
            score += 10;
        }
        
        // التوافق مع المجال (الطب في هذه الحالة)
        if (preferences.field === 'medical' && profession.category === 'الطب') {
            score += 15;
        }
        
        // التوافق مع المهارات
        if (profession.skills) {
            if (preferences.skills === 'analytical' && profession.skills.some(skill => skill.includes('تحليل') || skill.includes('تشخيص'))) {
                score += 10;
            }
            if (preferences.skills === 'technical' && profession.skills.some(skill => skill.includes('تقنية') || skill.includes('أجهزة'))) {
                score += 10;
            }
        }
        
        // التوافق مع الخبرة
        const expYears = parseInt(profession.experience) || 0;
        if (preferences.experience === 'senior' && expYears >= 5) {
            score += 10;
        } else if (preferences.experience === 'mid' && expYears >= 2 && expYears < 5) {
            score += 8;
        } else if (preferences.experience === 'junior' && expYears < 2) {
            score += 5;
        }
        
        // التوافق مع الطلب في السوق
        if (profession.demand.includes('مرتفع')) {
            score += 10;
        } else if (profession.demand.includes('متوسط')) {
            score += 5;
        }
        
        // حساب النسبة المئوية للتطابق
        const matchPercent = Math.min(100, Math.round(score * 100 / 80));
        
        return {
            ...profession,
            matchPercent
        };
    });
    
    // تصفية وترتيب النتائج
    return matchedProfessions
        .filter(p => p.matchPercent > 30)
        .sort((a, b) => b.matchPercent - a.matchPercent)
        .slice(0, 5); // أفضل 5 نتائج
}
    // دالة لعرض تفاصيل التخصص في نافذة منبثقة
    function showMajorDetails(major) {
        const modal = document.getElementById('detailsModal');
    const title = document.getElementById('modalTitle');
    const content = document.getElementById('modalContent');
    const category = document.getElementById('modalCategory');
    
    title.textContent = major.name;
    category.textContent = major.field;
    
    const jobsList = major.relatedJobs.map(job => `
    <li>${job.title} <span class="job-salary">${job.salary}</span></li>
    `).join('');
    
    content.innerHTML = `
    <div class="stats-grid">
        <div class="stat-item">
            <span>فرص العمل</span>
            ${major.jobo}
        </div>
        <div class="stat-item">
            <span>متوسط المجموع الادنى في الثانوية</span>
            ${major.jobs}
        </div>
        <div class="stat-item">
            <span>السنوات الدراسية</span>
            ${major.duration}
        </div>
        <div class="stat-item">
            <span>المسار</span>
            ${major.mid}
        </div>
    </div>
    <h3 style="margin: 1.5rem 0; color: var(--primary);">وصف التخصص</h3>
    <p>${major.description}</p>
    ${major.relatedJobs ? `
            <h3 style="margin: 1.5rem 0; color: var(--primary);">اشهر المهن المرتبطة</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                ${major.relatedJobs.map(relatedJobs => `
                    <span style="background: rgba(58,175,169,0.1); color: var(--secondary); padding: 0.3rem 0.8rem; border-radius: 20px; font-size: 0.9rem;">
                        ${relatedJobs}
                    </span>
                `).join('')}
            </div>
            ` : ''}
        `;
    
    modal.style.display = 'flex';
    }
    // العودة إلى الصفحة الرئيسية
    function goToHome() {
        document.getElementById('quizWelcome').style.display = 'block';
        document.getElementById('quizQuestions').style.display = 'none';
        document.getElementById('quizResults').style.display = 'none';
        
        // إظهار قسم الوظائف
        document.querySelectorAll('section').forEach(section => {
            section.style.display = 'none';
        });
        document.getElementById('jobs').style.display = 'block';
        
        // تحديث الروابط النشطة
        document.querySelectorAll('.nav-link').forEach(navLink => {
            navLink.classList.remove('active');
        });
        document.querySelector('.nav-link[href="#jobs"]').classList.add('active');
    }
    
    function linkSearchTypeToView(type) {
        resetFilters();
        clearSearch() ;
        currentSearchType = type;
        const searchInput = document.getElementById('searchInput');
        const query = searchInput.value.trim();
        
        // تحديث الـ placeholder حسب النوع
        searchInput.placeholder = type === 'jobs' ? "ابحث عن مهنة..." : "ابحث عن تخصص...";
    
        // تحديث الأزرار النشطة
        document.querySelectorAll('.search-type').forEach(btn => {
            btn.classList.toggle('active', btn.dataset.type === type);
        });
    
        // تحديث أزرار القسم الرئيسي
        document.getElementById('showProfessionsBtn').classList.toggle('active', type === 'jobs');
        document.getElementById('showMajorsBtn').classList.toggle('active', type === 'majors');
    
        // إظهار/إخفاء المحتوى
        document.getElementById('professionsContainer').style.display = type === 'jobs' ? 'grid' : 'none';
        document.getElementById('majorsContainer').style.display = type === 'majors' ? 'grid' : 'none';
    
        // إعادة البحث إذا كان هناك نص
        if (query) {
            const results = performSearch(query, type);
            displaySearchResults(results);
            
            // إظهار قسم نتائج البحث الرئيسي
            document.getElementById('mainSearchResults').style.display = 'block';
            document.getElementById('searchQueryText').innerText = query;
        } else {
            document.getElementById('mainSearchResults').style.display = 'none';
        }
    }
    
    
    function performSearch(query, type) {
    const normalizedQuery = query.trim().toLowerCase();
    const checkboxes = document.querySelectorAll('#jobFieldsFilter input[type="checkbox"]:checked');
    const selectedCategories = Array.from(checkboxes).map(cb => cb.value);
    const isFiltering = selectedCategories.length > 0;
    const relatedCategories = selectedCategories.flatMap(filter => getCategoriesForFilter(filter));
    
    let results = { professions: [], majors: [] };
    
    if (type === 'jobs') {
        results.professions = professions.filter(prof => {
            const matchesQuery = 
                prof.title.toLowerCase().includes(normalizedQuery) ||
                prof.summarize.toLowerCase().includes(normalizedQuery) ||
                prof.avgSalary.toLowerCase().includes(normalizedQuery);
            const matchesFilter = !isFiltering || relatedCategories.includes(prof.category);
            return matchesQuery && matchesFilter;
        });
    } else {
        results.majors = majors.filter(major => {
            const matchesQuery = 
                major.name.toLowerCase().includes(normalizedQuery) ||
                major.summarize.toLowerCase().includes(normalizedQuery) ||
                major.description.toLowerCase().includes(normalizedQuery);
            const matchesFilter = !isFiltering || relatedCategories.includes(major.field);
            return matchesQuery && matchesFilter;
        });
    }
    
    return results;
    }
    function scrollToResults() {
        const mainSearchResults = document.getElementById('mainSearchResults');
        const navbarHeight = document.querySelector('.navbar').offsetHeight;
    
        if (mainSearchResults) {
            window.scrollTo({
                top: mainSearchResults.offsetTop - navbarHeight - 20,
                behavior: 'smooth'
            });
        }
    }
    function displaySearchResults(results) {
        const searchResults = document.getElementById('searchResults');
        searchResults.innerHTML = '';
    
        const currentSection = document.querySelector('.nav-link.active')?.getAttribute('href') || '';
        const container = currentSearchType === 'jobs' ? 
        document.getElementById('professionsContainer') : 
        document.getElementById('majorsContainer');

    // إذا كانت النتائج فارغة، اخفِ البطاقات
    if ((currentSearchType === 'jobs' && results.professions.length === 0) ||
        (currentSearchType === 'majors' && results.majors.length === 0)) {
        container.style.display = 'none';
    } else {
        container.style.display = 'grid'; // أظهر البطاقات إذا كانت هناك نتائج
    }
        // تحقق إذا كانت لا توجد نتائج
        if (results.professions.length === 0 && results.majors.length === 0) {
            searchResults.innerHTML = '<p style="text-align: center; color: #666; padding: 1rem;">لا توجد نتائج مطابقة</p>';
            searchResults.style.display = 'block';
            
            // إخفاء حاويات البطاقات
            document.getElementById('professionsContainer').style.display = 'none';
            document.getElementById('majorsContainer').style.display = 'none';
            
            scrollToResults();
            return;
        }
    
        // عرض النتائج في القائمة المنسدلة إذا لم نكن في قسم المهن والتخصصات
        if (currentSection !== '#jobs') {
            results.professions.forEach(profession => {
                const item = document.createElement('div');
                item.className = 'search-result-item';
                item.innerHTML = `
                    <h4>${profession.title}</h4>
                `;
                item.addEventListener('click', () => showDetails(profession));
                searchResults.appendChild(item);
            });
    
            results.majors.forEach(major => {
                const item = document.createElement('div');
                item.className = 'search-result-item';
                item.innerHTML = `
                    <h4>${major.name}</h4>
                `;
                item.addEventListener('click', () => showMajorDetails(major));
                searchResults.appendChild(item);
            });
    
            searchResults.style.display = 'block';
        } else {
            searchResults.style.display = 'none';
            // عرض النتائج في الحاويات الرئيسية
            if (currentSearchType === 'jobs') {
                renderProfessions(results.professions);
            } else {
                renderMajors(results.majors);
            }
            
            // إظهار قسم نتائج البحث الرئيسي إذا كان هناك بحث
            if (document.getElementById('searchInput').value.trim()) {
                document.getElementById('mainSearchResults').style.display = 'block';
                document.getElementById('searchQueryText').innerText = document.getElementById('searchInput').value.trim();
            }
        }
    
        scrollToResults();
    }
    
    
    // حدث موحد لجميع الأزرار
    document.querySelectorAll('.search-type, #showProfessionsBtn, #showMajorsBtn').forEach(btn => {
    btn.addEventListener('click', function() {
    const type = this.dataset.type || (this.id === 'showMajorsBtn' ? 'majors' : 'jobs');
    linkSearchTypeToView(type);
    });
    });
    //فلاتر
    const checkboxes = document.querySelectorAll('#jobs input[type="checkbox"]');
    checkboxes.forEach(checkbox => {
    checkbox.checked = false;
    });
    
    // دالة جديدة لعرض التخصصات
    function renderMajorsResults(majors) {
    const container = document.getElementById('majorsContainer');
    container.innerHTML = ''; // نمسح المحتوى القديم
    
    majors.forEach(major => {
    const card = `
        <div class="profession-card">
            <div class="category-tag">${major.field}</div>
            <h3>${major.name}</h3>
            <p>${major.summarize}</p>
            <div class="salary-info">
                <span>السنوات الدراسية :</span>
                <span class="highlight">${major.duration}</span>
            </div>
        </div>
    `;
    container.innerHTML += card;
    });
    }
    function clearFilters() {
    // إعادة تعيين الفلاتر إذا كانت موجودة
    const checkboxes = document.querySelectorAll('#jobs input[type="checkbox"]');
    checkboxes.forEach(checkbox => {
    checkbox.checked = false;
    });
    
    // إعادة عرض البيانات الأصلية
    if (currentSearchType === 'jobs') {
    renderProfessions(professions);
    } else {
    renderMajors(majors);
    }
    }
    const searchInput = document.getElementById('searchInput');
    if (searchInput) {
    searchInput.addEventListener('input', () => {
    onFilterChange();
    document.getElementById('mainSearchResults').style.display = searchInput.value.trim() ? 'block' : 'none';
    document.getElementById('searchQueryText').innerText = searchInput.value.trim();
    });
    }
    let timeout;
    searchInput.addEventListener('input', (e) => {
    clearTimeout(timeout);
    timeout = setTimeout(() => {
    const query = e.target.value.trim();
    // ...perform search
    }, 300);
    });
    // إخفاء النافذة عند النقر خارجها
    document.addEventListener('click', (e) => {
    const searchContainer = document.querySelector('.search-container');
    const searchResults = document.getElementById('searchResults');
    
    if (!searchContainer.contains(e.target)) {
    searchResults.style.display = 'none';
    }
    });
    function onFilterChange() {
    
    const query = document.getElementById('searchInput').value.trim().toLowerCase();
    const checkboxes = document.querySelectorAll('#jobFieldsFilter input[type="checkbox"]:checked');
    const selectedCategories = Array.from(checkboxes).map(cb => cb.value);
    const isFiltering = selectedCategories.length > 0;
    const dataSource = currentSearchType === 'jobs' ? professions : majors;
    
    // الخطوة 1: تصفية البيانات بناءً على نص البحث
    let filteredResults = dataSource.filter(item => {
    const title = (item.title || item.name || '').toLowerCase();
    const description = (item.description || item.summarize || '').toLowerCase();
    return !query || title.includes(query) || description.includes(query);
    });
    
    // الخطوة 2: تصفية النتائج بناءً على الفلاتر إذا كانت موجودة
    if (isFiltering) {
    const relatedCategories = selectedCategories.flatMap(filter => getCategoriesForFilter(filter));
    filteredResults = filteredResults.filter(item => {
        const category = item.category || item.field || '';
        return relatedCategories.every(cat => category === cat);
    });
    }
    
    // الخطوة 3: عرض النتائج
    if (currentSearchType === 'jobs') {
    renderProfessions(filteredResults);
    } else {
    renderMajors(filteredResults);
    }
    
    // تحديث نتائج البحث الرئيسية
    const mainSearchResults = document.getElementById('mainSearchResults');
    mainSearchResults.style.display = filteredResults.length > 0 && query ? 'block' : 'none';
    document.getElementById('searchQueryText').innerText = query;
    
    // إخفاء قائمة البحث المنسدلة إذا كنت في قسم المهن والتخصصات
    const currentSection = document.querySelector('.nav-link.active')?.getAttribute('href') || '';
    if (currentSection === '#jobs') {
    document.getElementById('searchResults').style.display = 'none';
    }
    }
    
    // Modify search event to trigger onFilterChange after typing
    // أضف هذه الدالة في قسم الـ Script
    function restartQuiz() {
    // 1. إعادة تعيين جميع المتغيرات
    currentQuestion = 0;
    quizAnswers = [];
    // 2. إعادة تنسيق العناصر
    document.getElementById('quizWelcome').style.display = 'block';
    document.getElementById('quizQuestions').style.display = 'none';
    document.getElementById('quizResults').style.display = 'none';
    // 3. إعادة تعيين جميع خيارات الأسئلة
    const options = document.querySelectorAll('.quiz-option');
    options.forEach(option => {
    option.classList.remove('selected');
    });
    // 4. التمرير إلى الأعلى بسلاسة
    window.scrollTo({
    top: 0,
    behavior: 'smooth'
    });
    // 5. إعادة تعيين شريط التقدم
    document.getElementById('quizProgressBar').style.width = '0%';
    }
    function resetFilters() {
    document.querySelectorAll('input[type="checkbox"][data-filter]').forEach(cb => cb.checked = false);
    
    const currentSection = document.querySelector('.nav-link.active').getAttribute('href');
    renderProfessions(professions);
    renderMajors(majors);
    }
    // دالة تبديل عرض الفلاتر
function toggleFilters() {
    const filtersContainer = document.querySelector('.field-filters');
    const showMoreBtn = document.getElementById('showMoreFilters');
    
    filtersContainer.classList.toggle('expanded');
    showMoreBtn.classList.toggle('active');
    
    if (filtersContainer.classList.contains('expanded')) {
        showMoreBtn.querySelector('span').textContent = 'عرض أقل';
    } else {
        showMoreBtn.querySelector('span').textContent = 'عرض المزيد';
    }
}

// تعديل دالة onFilterChange لضبط عرض الزر
function onFilterChange() {
    // الكود الحالي...
    
    // إظهار/إخفاء زر عرض المزيد حسب حجم الشاشة
    const showMoreBtn = document.getElementById('showMoreFilters');
    if (window.innerWidth > 768) {
        showMoreBtn.style.display = 'none';
    } else {
        showMoreBtn.style.display = 'block';
    }
}
function goToPreviousQuestion() {
    if (currentQuestion > 0) {
        // إزالة الإجابة الأخيرة
        quizAnswers.pop();
        currentQuestion--;
        showQuestion();
        
        // إعادة تحديد الإجابة السابقة إن وجدت
        if (quizAnswers[currentQuestion] !== undefined) {
            const options = document.querySelectorAll('.quiz-option');
            options.forEach((option, index) => {
                if (quizQuestions[currentQuestion].options[index].value === quizAnswers[currentQuestion]) {
                    option.classList.add('selected');
                }
            });
        }
    }
}

// في نهاية ملف script.js أضف حدث النقر للزر:
document.getElementById('prevQuestionBtn').addEventListener('click', goToPreviousQuestion);
// استدعاء الدالة عند تحميل الصفحة وتغيير حجمها
window.addEventListener('resize', onFilterChange);
document.addEventListener('DOMContentLoaded', onFilterChange);

</script>


</body>
</html>
